{"ast":null,"code":"import React,{useState,useEffect}from'react';import{profileAPI,authAPI}from'../services/api';import{useApp}from'../contexts/AppContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProfileScreen=()=>{const{user,logout}=useApp();const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[isEditing,setIsEditing]=useState(false);const[isChangingPassword,setIsChangingPassword]=useState(false);const[formData,setFormData]=useState({// 基本信息\nname:'',gender:'',age:'',// 学习状态\nstudyStatus:'',// 考研数学信息\nmathType:'',mathTargetScore:'',dailyStudyHours:'',// 历史信息\ngaoKaoInfo:{participated:false,year:'',province:'',score:''},yanKaoInfo:{participated:false,year:'',mathType:'',notTaken:false,score:''},zhuanShengBenInfo:{participated:false,province:'',category:'',score:''},// 其他信息\npurchasedBooks:'',specialRequirements:''});const[passwordData,setPasswordData]=useState({oldPassword:'',newPassword:'',confirmPassword:''});const[showPasswords,setShowPasswords]=useState({oldPassword:false,newPassword:false,confirmPassword:false});// 获取个人档案\nconst fetchProfile=async()=>{try{setLoading(true);setError(null);const response=await profileAPI.getProfile();if(response.success){var _response$data;const profileData=((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.profile)||{};setProfile(profileData);setFormData({// 基本信息\nname:profileData.name||(user===null||user===void 0?void 0:user.name)||'',gender:profileData.gender||'',age:profileData.age||'',// 学习状态\nstudyStatus:profileData.studyStatus||'',// 考研数学信息\nmathType:profileData.mathType||'',mathTargetScore:profileData.targetScore||'',dailyStudyHours:profileData.dailyHours||'',// 历史信息\ngaoKaoInfo:{participated:!!profileData.gaokaoYear,year:profileData.gaokaoYear||'',province:profileData.gaokaoProvince||'',score:profileData.gaokaoScore||''},yanKaoInfo:{participated:!!profileData.gradExamYear,year:profileData.gradExamYear||'',mathType:profileData.gradExamMathType||'',notTaken:false,score:profileData.gradExamScore||''},zhuanShengBenInfo:{participated:!!profileData.upgradeExamYear,province:profileData.upgradeExamProvince||'',category:profileData.upgradeExamMathType||'',score:profileData.upgradeExamScore||''},// 其他信息\npurchasedBooks:profileData.purchasedBooks||'',specialRequirements:profileData.notes||''});}else{setError(response.message||'获取档案失败');}}catch(err){setError(err.message||'网络错误');}finally{setLoading(false);}};// 更新个人档案\nconst updateProfile=async()=>{try{var _formData$gaoKaoInfo,_formData$gaoKaoInfo2,_formData$gaoKaoInfo3,_formData$yanKaoInfo,_formData$yanKaoInfo2,_formData$yanKaoInfo3,_formData$zhuanShengB,_formData$zhuanShengB2,_formData$zhuanShengB3,_formData$zhuanShengB4;setError(null);// 安全的数值转换函数\nconst safeParseInt=value=>{if(!value||value===''||isNaN(value))return null;const parsed=parseInt(value);return isNaN(parsed)?null:parsed;};const safeParseFloat=value=>{if(!value||value===''||isNaN(value))return null;const parsed=parseFloat(value);return isNaN(parsed)?null:parsed;};// 转换前端字段名到后端期望的字段名\nconst profileData={gender:formData.gender||'',age:safeParseInt(formData.age),studyStatus:formData.studyStatus||'',mathType:formData.mathType||'',targetScore:safeParseInt(formData.mathTargetScore),dailyHours:safeParseFloat(formData.dailyStudyHours),// 高考信息\ngaoKaoYear:((_formData$gaoKaoInfo=formData.gaoKaoInfo)===null||_formData$gaoKaoInfo===void 0?void 0:_formData$gaoKaoInfo.year)||'',gaoKaoProvince:((_formData$gaoKaoInfo2=formData.gaoKaoInfo)===null||_formData$gaoKaoInfo2===void 0?void 0:_formData$gaoKaoInfo2.province)||'',gaoKaoScore:safeParseInt((_formData$gaoKaoInfo3=formData.gaoKaoInfo)===null||_formData$gaoKaoInfo3===void 0?void 0:_formData$gaoKaoInfo3.score),// 研考信息\ngradExamYear:((_formData$yanKaoInfo=formData.yanKaoInfo)===null||_formData$yanKaoInfo===void 0?void 0:_formData$yanKaoInfo.year)||'',gradExamMathType:((_formData$yanKaoInfo2=formData.yanKaoInfo)===null||_formData$yanKaoInfo2===void 0?void 0:_formData$yanKaoInfo2.mathType)||'',gradExamScore:safeParseInt((_formData$yanKaoInfo3=formData.yanKaoInfo)===null||_formData$yanKaoInfo3===void 0?void 0:_formData$yanKaoInfo3.score),// 专升本信息\nupgradeExamYear:((_formData$zhuanShengB=formData.zhuanShengBenInfo)===null||_formData$zhuanShengB===void 0?void 0:_formData$zhuanShengB.year)||'',upgradeExamProvince:((_formData$zhuanShengB2=formData.zhuanShengBenInfo)===null||_formData$zhuanShengB2===void 0?void 0:_formData$zhuanShengB2.province)||'',upgradeExamMathType:((_formData$zhuanShengB3=formData.zhuanShengBenInfo)===null||_formData$zhuanShengB3===void 0?void 0:_formData$zhuanShengB3.category)||'',upgradeExamScore:safeParseInt((_formData$zhuanShengB4=formData.zhuanShengBenInfo)===null||_formData$zhuanShengB4===void 0?void 0:_formData$zhuanShengB4.score),// 其他信息\npurchasedBooks:formData.purchasedBooks||'',notes:formData.specialRequirements||''};const response=await profileAPI.updateProfile(profileData);if(response.success){setProfile({...profile,...formData});setIsEditing(false);alert('档案更新成功');}else{setError(response.message||'更新档案失败');}}catch(err){setError(err.message||'更新档案失败');}};// 切换密码显示状态\nconst togglePasswordVisibility=field=>{setShowPasswords(prev=>({...prev,[field]:!prev[field]}));};// 修改密码\nconst changePassword=async()=>{try{console.log('🔐 开始修改密码...');setError(null);// 验证输入\nif(!passwordData.oldPassword){setError('请输入当前密码');return;}if(!passwordData.newPassword){setError('请输入新密码');return;}if(passwordData.newPassword!==passwordData.confirmPassword){setError('新密码与确认密码不一致');return;}if(passwordData.newPassword.length<6){setError('新密码长度不能少于6位');return;}console.log('📤 发送密码修改请求...');const response=await authAPI.changePassword({oldPassword:passwordData.oldPassword,newPassword:passwordData.newPassword});console.log('📨 密码修改响应:',response);if(response.success){setIsChangingPassword(false);setPasswordData({oldPassword:'',newPassword:'',confirmPassword:''});setShowPasswords({oldPassword:false,newPassword:false,confirmPassword:false});alert('密码修改成功');}else{setError(response.message||'密码修改失败');}}catch(err){console.error('❌ 密码修改错误:',err);setError(err.message||'密码修改失败');}};const handleInputChange=e=>{const{name,value,type,checked}=e.target;// 处理嵌套对象的更新\nif(name.includes('.')){const[parentKey,childKey]=name.split('.');setFormData(prev=>({...prev,[parentKey]:{...prev[parentKey],[childKey]:type==='checkbox'?checked:value}}));}else{setFormData(prev=>({...prev,[name]:type==='checkbox'?checked:value}));}};const handlePasswordChange=e=>{const{name,value}=e.target;setPasswordData(prev=>({...prev,[name]:value}));};const cancelEdit=()=>{setIsEditing(false);if(profile){setFormData({// 基本信息\nname:profile.name||(user===null||user===void 0?void 0:user.name)||'',gender:profile.gender||'',age:profile.age||'',// 学习状态\nstudyStatus:profile.studyStatus||'',// 考研数学信息\nmathType:profile.mathType||'',mathTargetScore:profile.targetScore||'',dailyStudyHours:profile.dailyHours||'',// 历史信息\ngaoKaoInfo:{participated:!!profile.gaokaoYear,year:profile.gaokaoYear||'',province:profile.gaokaoProvince||'',score:profile.gaokaoScore||''},yanKaoInfo:{participated:!!profile.gradExamYear,year:profile.gradExamYear||'',mathType:profile.gradExamMathType||'',notTaken:false,score:profile.gradExamScore||''},zhuanShengBenInfo:{participated:!!profile.upgradeExamYear,province:profile.upgradeExamProvince||'',category:profile.upgradeExamMathType||'',score:profile.upgradeExamScore||''},// 其他信息\npurchasedBooks:profile.purchasedBooks||'',specialRequirements:profile.notes||''});}};// 退出登录\nconst handleLogout=()=>{if(window.confirm('确定要退出登录吗？')){logout();}};useEffect(()=>{fetchProfile();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"profile-screen\",className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"\\u52A0\\u8F7D\\u4E2D...\"})]})});}// 生成用户编号\nconst generateUserCode=()=>{// 用户编号就是学生ID\nreturn(user===null||user===void 0?void 0:user.id)||'未设置';};return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"profile-screen\",className:\"p-6 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"\\u4E2A\\u4EBA\\u4E2D\\u5FC3\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"\\u4E2A\\u4EBA\\u4FE1\\u606F\"}),!isEditing&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\",children:\"\\u7F16\\u8F91\\u4FE1\\u606F\"})]}),isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u7528\\u6237\\u7F16\\u53F7\\uFF08\\u5B66\\u751FID\\uFF09\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-2\",children:\"\\u60A8\\u7684\\u5B66\\u751FID\\uFF0C\\u7528\\u4E8E\\u767B\\u5F55\\u7CFB\\u7EDF\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:generateUserCode(),disabled:true,className:\"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-600\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u6027\\u522B\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:formData.gender,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u7537\",children:\"\\u7537\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5973\",children:\"\\u5973\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5E74\\u9F84\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",value:formData.age,onChange:handleInputChange,min:\"16\",max:\"60\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5B66\\u4E60\\u72B6\\u6001\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"studyStatus\",value:formData.studyStatus,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5728\\u8BFB\\u5E94\\u5C4A\\u8003\\u7814\",children:\"\\u5728\\u8BFB\\u5E94\\u5C4A\\u8003\\u7814\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5728\\u804C\\u5168\\u804C\\u8003\\u7814\",children:\"\\u5728\\u804C\\u5168\\u804C\\u8003\\u7814\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5728\\u804C\\u8003\\u7814\",children:\"\\u5728\\u804C\\u8003\\u7814\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5176\\u4ED6\",children:\"\\u5176\\u4ED6\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u8003\\u7814\\u6570\\u5B66\\u7C7B\\u578B\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"mathType\",value:formData.mathType,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u6570\\u4E00\",children:\"\\u6570\\u4E00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u6570\\u4E8C\",children:\"\\u6570\\u4E8C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u6570\\u4E09\",children:\"\\u6570\\u4E09\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5176\\u4ED6\",children:\"\\u5176\\u4ED6\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u8003\\u7814\\u6570\\u5B66\\u76EE\\u6807\\u5206\\u6570\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"mathTargetScore\",value:formData.mathTargetScore,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u76EE\\u6807\\u5206\\u6570\"}),Array.from({length:17},(_,i)=>{const score=70+i*5;return/*#__PURE__*/_jsxs(\"option\",{value:score,children:[score,\"\\u5206\"]},score);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u6BCF\\u65E5\\u6570\\u5B66\\u5B66\\u4E60\\u65F6\\u957F\\uFF08\\u5C0F\\u65F6\\uFF09\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"dailyStudyHours\",value:formData.dailyStudyHours,onChange:handleInputChange,min:\"0\",max:\"24\",step:\"0.5\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u6BCF\\u65E5\\u5B66\\u4E60\\u65F6\\u957F\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"\\u6BCF\\u5468\\u5B66\\u4E60\\u65F6\\u957F\\u7EA6 \",(formData.dailyStudyHours*6).toFixed(1),\" \\u5C0F\\u65F6\\uFF0C\\u6BCF\\u6708\\u5B66\\u4E60\\u65F6\\u957F\\u7EA6 \",(formData.dailyStudyHours*24).toFixed(1),\" \\u5C0F\\u65F6\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:updateProfile,className:\"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\",children:\"\\u4FDD\\u5B58\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\",children:\"\\u53D6\\u6D88\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u7528\\u6237\\u7F16\\u53F7\\uFF08\\u5B66\\u751FID\\uFF09\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900 font-mono\",children:generateUserCode()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.name||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u6027\\u522B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.gender||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u5E74\\u9F84\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.age||'未填写'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u5B66\\u4E60\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.studyStatus||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u8003\\u7814\\u6570\\u5B66\\u7C7B\\u578B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.mathType||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u8003\\u7814\\u6570\\u5B66\\u76EE\\u6807\\u5206\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.mathTargetScore?`${formData.mathTargetScore}分`:'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u6BCF\\u65E5\\u6570\\u5B66\\u5B66\\u4E60\\u65F6\\u957F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.dailyStudyHours?/*#__PURE__*/_jsxs(_Fragment,{children:[formData.dailyStudyHours,\"\\u5C0F\\u65F6/\\u5929\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"\\u6BCF\\u5468: \",(formData.dailyStudyHours*6).toFixed(1),\"\\u5C0F\\u65F6\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u6BCF\\u6708: \",(formData.dailyStudyHours*24).toFixed(1),\"\\u5C0F\\u65F6\"]})]}):'未填写'})]})]})]}),!isEditing&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-6 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsChangingPassword(true),className:\"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\",children:\"\\u4FEE\\u6539\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\",children:\"\\uD83D\\uDEAA \\u9000\\u51FA\\u767B\\u5F55\"})]})}),isChangingPassword&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md mx-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u4FEE\\u6539\\u5BC6\\u7801\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5F53\\u524D\\u5BC6\\u7801\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPasswords.oldPassword?\"text\":\"password\",name:\"oldPassword\",value:passwordData.oldPassword,onChange:handlePasswordChange,className:\"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>togglePasswordVisibility('oldPassword'),className:\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\",children:showPasswords.oldPassword?/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21\"})}):/*#__PURE__*/_jsxs(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u65B0\\u5BC6\\u7801\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPasswords.newPassword?\"text\":\"password\",name:\"newPassword\",value:passwordData.newPassword,onChange:handlePasswordChange,className:\"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>togglePasswordVisibility('newPassword'),className:\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\",children:showPasswords.newPassword?/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21\"})}):/*#__PURE__*/_jsxs(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u786E\\u8BA4\\u65B0\\u5BC6\\u7801\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPasswords.confirmPassword?\"text\":\"password\",name:\"confirmPassword\",value:passwordData.confirmPassword,onChange:handlePasswordChange,className:\"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>togglePasswordVisibility('confirmPassword'),className:\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\",children:showPasswords.confirmPassword?/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21\"})}):/*#__PURE__*/_jsxs(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:changePassword,className:\"flex-1 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\",children:\"\\u786E\\u8BA4\\u4FEE\\u6539\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsChangingPassword(false);setPasswordData({oldPassword:'',newPassword:'',confirmPassword:''});},className:\"flex-1 px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\",children:\"\\u53D6\\u6D88\"})]})]})]})})]})]});};export default ProfileScreen;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}