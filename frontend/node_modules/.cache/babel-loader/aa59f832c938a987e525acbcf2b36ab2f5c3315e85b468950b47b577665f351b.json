{"ast":null,"code":"import React,{useState,useEffect}from'react';import{taskAPI}from'../services/api';import{useApp}from'../contexts/AppContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MonthScreen=()=>{const{systemDate}=useApp();const[tasks,setTasks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedDate,setSelectedDate]=useState(null);const[currentMonth,setCurrentMonth]=useState(new Date(systemDate));const[showTaskModal,setShowTaskModal]=useState(false);// 格式化日期为YYYY-MM-DD\nconst formatDate=date=>{return date.toISOString().split('T')[0];};// 获取月度任务\nconst fetchMonthTasks=async month=>{try{setLoading(true);setError(null);const startDate=new Date(month.getFullYear(),month.getMonth(),1);const endDate=new Date(month.getFullYear(),month.getMonth()+1,0);const response=await taskAPI.getTasks(formatDate(startDate),formatDate(endDate));if(response.success){// 后端返回的是按日期分组的对象，需要转换为平面数组\nconst tasksByDate=response.data||{};const allTasks=[];Object.keys(tasksByDate).forEach(date=>{const dateTasks=tasksByDate[date]||[];dateTasks.forEach(task=>{allTasks.push({...task,date:date// 添加日期字段\n});});});setTasks(allTasks);}else{setError(response.message||'获取任务失败');}}catch(err){setError(err.message||'网络错误');}finally{setLoading(false);}};// 获取指定日期的任务\nconst getTasksForDate=date=>{const dateStr=formatDate(date);const taskArray=Array.isArray(tasks)?tasks:[];return taskArray.filter(task=>task.date===dateStr);};// 生成日历数据\nconst generateCalendarDays=()=>{const year=currentMonth.getFullYear();const month=currentMonth.getMonth();const firstDay=new Date(year,month,1);const lastDay=new Date(year,month+1,0);const startDate=new Date(firstDay);startDate.setDate(startDate.getDate()-firstDay.getDay());// 从周日开始\nconst days=[];const current=new Date(startDate);// 生成6周的日期（42天）\nfor(let i=0;i<42;i++){const dayTasks=getTasksForDate(current);const completedTasks=dayTasks.filter(task=>task.completed).length;const totalTasks=dayTasks.length;days.push({date:new Date(current),dayNumber:current.getDate(),isCurrentMonth:current.getMonth()===month,isToday:formatDate(current)===formatDate(systemDate),tasks:dayTasks,completedTasks,totalTasks,completionRate:totalTasks>0?Math.round(completedTasks/totalTasks*100):0});current.setDate(current.getDate()+1);}return days;};// 上一个月\nconst previousMonth=()=>{setCurrentMonth(prev=>new Date(prev.getFullYear(),prev.getMonth()-1,1));};// 下一个月\nconst nextMonth=()=>{setCurrentMonth(prev=>new Date(prev.getFullYear(),prev.getMonth()+1,1));};// 选择日期\nconst selectDate=date=>{setSelectedDate(date);setShowTaskModal(true);};// 关闭任务详情弹窗\nconst closeTaskModal=()=>{setShowTaskModal(false);setSelectedDate(null);};// 计算月度统计\nconst getMonthStats=()=>{const taskArray=Array.isArray(tasks)?tasks:[];const monthTasks=taskArray.filter(task=>{const taskDate=new Date(task.date);return taskDate.getMonth()===currentMonth.getMonth()&&taskDate.getFullYear()===currentMonth.getFullYear();});const completed=monthTasks.filter(task=>task.completed).length;const total=monthTasks.length;const completionRate=total>0?Math.round(completed/total*100):0;const totalStudyTime=monthTasks.reduce((acc,task)=>{if(task.duration){return acc+task.duration.hour*60+task.duration.minute;}return acc;},0);return{total,completed,completionRate,totalStudyTime:Math.round(totalStudyTime/60*10)/10// 转换为小时，保留1位小数\n};};useEffect(()=>{fetchMonthTasks(currentMonth);},[currentMonth]);const calendarDays=generateCalendarDays();const monthStats=getMonthStats();const weekDays=['日','一','二','三','四','五','六'];if(loading){return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"month-screen\",className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"\\u52A0\\u8F7D\\u4E2D...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"month-screen\",className:\"p-6 max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"\\u6708\\u5EA6\\u4EFB\\u52A1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\u67E5\\u770B\\u548C\\u7BA1\\u7406\\u6BCF\\u6708\\u7684\\u5B66\\u4E60\\u4EFB\\u52A1\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:[currentMonth.getFullYear(),\"\\u5E74\",currentMonth.getMonth()+1,\"\\u6708\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:previousMonth,className:\"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300\",children:\"\\u2190 \\u4E0A\\u6708\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextMonth,className:\"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300\",children:\"\\u4E0B\\u6708 \\u2192\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-1 mb-2\",children:weekDays.map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-500 py-2\",children:day},day))}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-1\",children:calendarDays.map((day,index)=>/*#__PURE__*/_jsx(CalendarDay,{day:day,onSelect:selectDate,isSelected:selectedDate&&formatDate(selectedDate)===formatDate(day.date)},index))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u672C\\u6708\\u7EDF\\u8BA1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-blue-600 mb-1\",children:[monthStats.completionRate,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"\\u5B8C\\u6210\\u7387\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u603B\\u4EFB\\u52A1\\u6570\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:monthStats.total})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u5DF2\\u5B8C\\u6210\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-green-600\",children:monthStats.completed})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u672A\\u5B8C\\u6210\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-red-600\",children:monthStats.total-monthStats.completed})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u5B66\\u4E60\\u65F6\\u957F\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[monthStats.totalStudyTime,\"h\"]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u72B6\\u6001\\u8BF4\\u660E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-100 border border-green-200 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u4EFB\\u52A1\\u5168\\u90E8\\u5B8C\\u6210\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-yellow-100 border border-yellow-200 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u90E8\\u5206\\u4EFB\\u52A1\\u5B8C\\u6210\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-red-100 border border-red-200 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u4EFB\\u52A1\\u672A\\u5B8C\\u6210\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-yellow-50 border border-yellow-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFE0 \\u5DF2\\u8BF7\\u5047\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-blue-50 border border-blue-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDE34 \\u4F11\\u606F\\u65E5\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-50 border border-gray-200 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u65E0\\u4EFB\\u52A1\\u5B89\\u6392\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u5FEB\\u901F\\u5BFC\\u822A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentMonth(new Date(systemDate));setSelectedDate(systemDate);},className:\"w-full px-3 py-2 text-left text-sm bg-blue-50 text-blue-700 rounded hover:bg-blue-100\",children:\"\\u56DE\\u5230\\u4ECA\\u65E5\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentMonth(new Date()),className:\"w-full px-3 py-2 text-left text-sm bg-gray-50 text-gray-700 rounded hover:bg-gray-100\",children:\"\\u5F53\\u524D\\u6708\\u4EFD\"})]})]})]})]}),showTaskModal&&selectedDate&&/*#__PURE__*/_jsx(TaskDetailsModal,{date:selectedDate,tasks:getTasksForDate(selectedDate),onClose:closeTaskModal})]});};// 日历单元格组件\nconst CalendarDay=_ref=>{let{day,onSelect,isSelected}=_ref;// 检查是否有请假或休息任务\nconst hasLeaveTask=day.tasks.some(task=>task.type==='leave');const hasRestTask=day.tasks.some(task=>task.type==='休息');const getCompletionColor=()=>{if(hasLeaveTask)return'bg-yellow-50';// 请假日\nif(hasRestTask)return'bg-blue-50';// 休息日\nif(day.totalTasks===0)return'bg-gray-50';if(day.completionRate===100)return'bg-green-100';if(day.completionRate>=50)return'bg-yellow-100';return'bg-red-100';};const getBorderColor=()=>{if(isSelected)return'border-blue-500 border-2';if(day.isToday)return'border-blue-300 border-2';if(hasLeaveTask)return'border-yellow-300';if(hasRestTask)return'border-blue-300';return'border-gray-200';};const getStatusIcon=()=>{if(hasLeaveTask)return'🏠';// 请假\nif(hasRestTask)return'😴';// 休息\nreturn null;};return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onSelect(day.date),className:`\n        relative h-24 p-1 border cursor-pointer hover:bg-gray-50 transition-colors\n        ${getBorderColor()}\n        ${getCompletionColor()}\n        ${!day.isCurrentMonth?'opacity-30':''}\n      `,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-medium ${day.isToday?'text-blue-600':day.isCurrentMonth?'text-gray-900':'text-gray-400'}`,children:day.dayNumber}),getStatusIcon()&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:getStatusIcon()})]}),day.totalTasks>0&&!hasLeaveTask&&!hasRestTask&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[day.completedTasks,\"/\",day.totalTasks]}),day.completionRate>0&&/*#__PURE__*/_jsxs(\"div\",{className:`text-xs font-semibold ${day.completionRate===100?'text-green-600':day.completionRate>=50?'text-yellow-600':'text-red-600'}`,children:[day.completionRate,\"%\"]})]}),hasLeaveTask&&/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-yellow-600 font-semibold\",children:\"\\u5DF2\\u8BF7\\u5047\"})}),hasRestTask&&!hasLeaveTask&&/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-blue-600 font-semibold\",children:\"\\u4F11\\u606F\\u65E5\"})})]}),day.totalTasks>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-1 left-1 right-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[Array.from({length:Math.min(day.totalTasks,5)}).map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:`h-1 flex-1 rounded ${index<day.completedTasks?'bg-green-500':'bg-gray-300'}`},index)),day.totalTasks>5&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"+\"})]})})]});};// 任务详情弹窗组件\nconst TaskDetailsModal=_ref2=>{let{date,tasks,onClose}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-11/12 max-h-[80vh] overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-500 text-white px-6 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold\",children:[date.getMonth()+1,\"\\u6708\",date.getDate(),\"\\u65E5\\u4EFB\\u52A1\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-white hover:text-gray-200 text-xl font-bold\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 max-h-96 overflow-y-auto\",children:tasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 text-4xl mb-3\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u5F53\\u65E5\\u65E0\\u4EFB\\u52A1\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:tasks.map(task=>/*#__PURE__*/_jsx(TaskItem,{task:task},task.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-6 py-4 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\",children:\"\\u5173\\u95ED\"})})]})});};// 任务项组件\nconst TaskItem=_ref3=>{let{task}=_ref3;// 检查是否是特殊任务类型\nconst isLeaveTask=task.type==='leave';const isRestTask=task.type==='休息';const getTaskTypeDisplay=()=>{if(isLeaveTask)return{text:'已请假',color:'bg-yellow-100 text-yellow-800'};if(isRestTask)return{text:'休息日',color:'bg-blue-100 text-blue-800'};switch(task.type){case'数学':return{text:'数学',color:'bg-blue-100 text-blue-800'};case'英语':return{text:'英语',color:'bg-green-100 text-green-800'};case'专业课':return{text:'专业课',color:'bg-purple-100 text-purple-800'};default:return{text:task.type||'其他',color:'bg-gray-100 text-gray-800'};}};const typeDisplay=getTaskTypeDisplay();return/*#__PURE__*/_jsx(\"div\",{className:`p-4 rounded-lg border ${task.completed?'bg-green-50 border-green-200':isLeaveTask||isRestTask?'bg-gray-50 border-gray-200':'bg-white border-gray-200'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:`mt-1 w-4 h-4 rounded-full flex items-center justify-center ${task.completed?'bg-green-500 text-white':isLeaveTask||isRestTask?'bg-gray-400':'bg-gray-300'}`,children:task.completed&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:`font-medium text-sm ${task.completed?'text-green-700 line-through':'text-gray-800'}`,children:isLeaveTask?'🏠 已请假':isRestTask?'😴 休息日':task.title||'任务标题'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded text-xs ${typeDisplay.color}`,children:typeDisplay.text}),task.completed&&!isLeaveTask&&!isRestTask&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 text-xs\",children:\"\\u2713 \\u5DF2\\u5B8C\\u6210\"})]}),task.duration&&(task.duration.hour>0||task.duration.minute>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-gray-600\",children:[\"\\u7528\\u65F6: \",task.duration.hour,\"\\u65F6\",task.duration.minute,\"\\u5206\"]}),task.proof&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs text-green-600\",children:\"\\uD83D\\uDCF7 \\u5DF2\\u4E0A\\u4F20\\u5B8C\\u6210\\u51ED\\u8BC1\"})]})]})});};export default MonthScreen;","map":{"version":3,"names":["React","useState","useEffect","taskAPI","useApp","jsx","_jsx","jsxs","_jsxs","MonthScreen","systemDate","tasks","setTasks","loading","setLoading","error","setError","selectedDate","setSelectedDate","currentMonth","setCurrentMonth","Date","showTaskModal","setShowTaskModal","formatDate","date","toISOString","split","fetchMonthTasks","month","startDate","getFullYear","getMonth","endDate","response","getTasks","success","tasksByDate","data","allTasks","Object","keys","forEach","dateTasks","task","push","message","err","getTasksForDate","dateStr","taskArray","Array","isArray","filter","generateCalendarDays","year","firstDay","lastDay","setDate","getDate","getDay","days","current","i","dayTasks","completedTasks","completed","length","totalTasks","dayNumber","isCurrentMonth","isToday","completionRate","Math","round","previousMonth","prev","nextMonth","selectDate","closeTaskModal","getMonthStats","monthTasks","taskDate","total","totalStudyTime","reduce","acc","duration","hour","minute","calendarDays","monthStats","weekDays","className","children","onClick","map","day","index","CalendarDay","onSelect","isSelected","TaskDetailsModal","onClose","_ref","hasLeaveTask","some","type","hasRestTask","getCompletionColor","getBorderColor","getStatusIcon","from","min","_","_ref2","TaskItem","id","_ref3","isLeaveTask","isRestTask","getTaskTypeDisplay","text","color","typeDisplay","fill","viewBox","fillRule","d","clipRule","title","proof"],"sources":["/Users/danieldong/Documents/GitHub/gougegaoshu/frontend/src/components/MonthScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { taskAPI } from '../services/api';\nimport { useApp } from '../contexts/AppContext';\n\nconst MonthScreen = () => {\n  const { systemDate } = useApp();\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [currentMonth, setCurrentMonth] = useState(new Date(systemDate));\n  const [showTaskModal, setShowTaskModal] = useState(false);\n\n  // 格式化日期为YYYY-MM-DD\n  const formatDate = (date) => {\n    return date.toISOString().split('T')[0];\n  };\n\n  // 获取月度任务\n  const fetchMonthTasks = async (month) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const startDate = new Date(month.getFullYear(), month.getMonth(), 1);\n      const endDate = new Date(month.getFullYear(), month.getMonth() + 1, 0);\n      \n      const response = await taskAPI.getTasks(\n        formatDate(startDate), \n        formatDate(endDate)\n      );\n      \n      if (response.success) {\n        // 后端返回的是按日期分组的对象，需要转换为平面数组\n        const tasksByDate = response.data || {};\n        const allTasks = [];\n        \n        Object.keys(tasksByDate).forEach(date => {\n          const dateTasks = tasksByDate[date] || [];\n          dateTasks.forEach(task => {\n            allTasks.push({\n              ...task,\n              date: date // 添加日期字段\n            });\n          });\n        });\n        \n        setTasks(allTasks);\n      } else {\n        setError(response.message || '获取任务失败');\n      }\n    } catch (err) {\n      setError(err.message || '网络错误');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 获取指定日期的任务\n  const getTasksForDate = (date) => {\n    const dateStr = formatDate(date);\n    const taskArray = Array.isArray(tasks) ? tasks : [];\n    return taskArray.filter(task => task.date === dateStr);\n  };\n\n  // 生成日历数据\n  const generateCalendarDays = () => {\n    const year = currentMonth.getFullYear();\n    const month = currentMonth.getMonth();\n    \n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const startDate = new Date(firstDay);\n    startDate.setDate(startDate.getDate() - firstDay.getDay()); // 从周日开始\n    \n    const days = [];\n    const current = new Date(startDate);\n    \n    // 生成6周的日期（42天）\n    for (let i = 0; i < 42; i++) {\n      const dayTasks = getTasksForDate(current);\n      const completedTasks = dayTasks.filter(task => task.completed).length;\n      const totalTasks = dayTasks.length;\n      \n      days.push({\n        date: new Date(current),\n        dayNumber: current.getDate(),\n        isCurrentMonth: current.getMonth() === month,\n        isToday: formatDate(current) === formatDate(systemDate),\n        tasks: dayTasks,\n        completedTasks,\n        totalTasks,\n        completionRate: totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0\n      });\n      \n      current.setDate(current.getDate() + 1);\n    }\n    \n    return days;\n  };\n\n  // 上一个月\n  const previousMonth = () => {\n    setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() - 1, 1));\n  };\n\n  // 下一个月\n  const nextMonth = () => {\n    setCurrentMonth(prev => new Date(prev.getFullYear(), prev.getMonth() + 1, 1));\n  };\n\n  // 选择日期\n  const selectDate = (date) => {\n    setSelectedDate(date);\n    setShowTaskModal(true);\n  };\n\n  // 关闭任务详情弹窗\n  const closeTaskModal = () => {\n    setShowTaskModal(false);\n    setSelectedDate(null);\n  };\n\n  // 计算月度统计\n  const getMonthStats = () => {\n    const taskArray = Array.isArray(tasks) ? tasks : [];\n    const monthTasks = taskArray.filter(task => {\n      const taskDate = new Date(task.date);\n      return taskDate.getMonth() === currentMonth.getMonth() && \n             taskDate.getFullYear() === currentMonth.getFullYear();\n    });\n    \n    const completed = monthTasks.filter(task => task.completed).length;\n    const total = monthTasks.length;\n    const completionRate = total > 0 ? Math.round((completed / total) * 100) : 0;\n    \n    const totalStudyTime = monthTasks.reduce((acc, task) => {\n      if (task.duration) {\n        return acc + (task.duration.hour * 60) + task.duration.minute;\n      }\n      return acc;\n    }, 0);\n    \n    return {\n      total,\n      completed,\n      completionRate,\n      totalStudyTime: Math.round(totalStudyTime / 60 * 10) / 10 // 转换为小时，保留1位小数\n    };\n  };\n\n  useEffect(() => {\n    fetchMonthTasks(currentMonth);\n  }, [currentMonth]);\n\n  const calendarDays = generateCalendarDays();\n  const monthStats = getMonthStats();\n  const weekDays = ['日', '一', '二', '三', '四', '五', '六'];\n\n  if (loading) {\n    return (\n      <div data-testid=\"month-screen\" className=\"p-6\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\n          <p className=\"mt-2 text-gray-600\">加载中...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div data-testid=\"month-screen\" className=\"p-6 max-w-7xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">月度任务</h1>\n        <p className=\"text-gray-600\">查看和管理每月的学习任务</p>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\">\n          {error}\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n        {/* 日历视图 */}\n        <div className=\"lg:col-span-3\">\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            {/* 日历头部 */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">\n                {currentMonth.getFullYear()}年{currentMonth.getMonth() + 1}月\n              </h2>\n              <div className=\"flex space-x-2\">\n                <button\n                  onClick={previousMonth}\n                  className=\"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300\"\n                >\n                  ← 上月\n                </button>\n                <button\n                  onClick={nextMonth}\n                  className=\"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300\"\n                >\n                  下月 →\n                </button>\n              </div>\n            </div>\n\n            {/* 星期标题 */}\n            <div className=\"grid grid-cols-7 gap-1 mb-2\">\n              {weekDays.map(day => (\n                <div key={day} className=\"text-center text-sm font-medium text-gray-500 py-2\">\n                  {day}\n                </div>\n              ))}\n            </div>\n\n            {/* 日历网格 */}\n            <div className=\"grid grid-cols-7 gap-1\">\n              {calendarDays.map((day, index) => (\n                <CalendarDay\n                  key={index}\n                  day={day}\n                  onSelect={selectDate}\n                  isSelected={selectedDate && formatDate(selectedDate) === formatDate(day.date)}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* 侧边栏 */}\n        <div className=\"space-y-6\">\n          {/* 月度统计 */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">本月统计</h3>\n            <div className=\"space-y-4\">\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-blue-600 mb-1\">\n                  {monthStats.completionRate}%\n                </div>\n                <div className=\"text-sm text-gray-600\">完成率</div>\n              </div>\n              \n              <div className=\"space-y-3 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">总任务数</span>\n                  <span className=\"font-semibold\">{monthStats.total}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">已完成</span>\n                  <span className=\"font-semibold text-green-600\">{monthStats.completed}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">未完成</span>\n                  <span className=\"font-semibold text-red-600\">\n                    {monthStats.total - monthStats.completed}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">学习时长</span>\n                  <span className=\"font-semibold\">{monthStats.totalStudyTime}h</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n          {/* 状态图例 */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">状态说明</h3>\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-green-100 border border-green-200 rounded\"></div>\n                <span>任务全部完成</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-yellow-100 border border-yellow-200 rounded\"></div>\n                <span>部分任务完成</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-red-100 border border-red-200 rounded\"></div>\n                <span>任务未完成</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-yellow-50 border border-yellow-300 rounded\"></div>\n                <span>🏠 已请假</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-blue-50 border border-blue-300 rounded\"></div>\n                <span>😴 休息日</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-gray-50 border border-gray-200 rounded\"></div>\n                <span>无任务安排</span>\n              </div>\n            </div>\n          </div>\n\n          {/* 快速导航 */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">快速导航</h3>\n            <div className=\"space-y-2\">\n              <button\n                onClick={() => {\n                  setCurrentMonth(new Date(systemDate));\n                  setSelectedDate(systemDate);\n                }}\n                className=\"w-full px-3 py-2 text-left text-sm bg-blue-50 text-blue-700 rounded hover:bg-blue-100\"\n              >\n                回到今日\n              </button>\n              <button\n                onClick={() => setCurrentMonth(new Date())}\n                className=\"w-full px-3 py-2 text-left text-sm bg-gray-50 text-gray-700 rounded hover:bg-gray-100\"\n              >\n                当前月份\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 任务详情弹窗 */}\n      {showTaskModal && selectedDate && (\n        <TaskDetailsModal\n          date={selectedDate}\n          tasks={getTasksForDate(selectedDate)}\n          onClose={closeTaskModal}\n        />\n      )}\n    </div>\n  );\n};\n\n// 日历单元格组件\nconst CalendarDay = ({ day, onSelect, isSelected }) => {\n  // 检查是否有请假或休息任务\n  const hasLeaveTask = day.tasks.some(task => task.type === 'leave');\n  const hasRestTask = day.tasks.some(task => task.type === '休息');\n  \n  const getCompletionColor = () => {\n    if (hasLeaveTask) return 'bg-yellow-50'; // 请假日\n    if (hasRestTask) return 'bg-blue-50'; // 休息日\n    if (day.totalTasks === 0) return 'bg-gray-50';\n    if (day.completionRate === 100) return 'bg-green-100';\n    if (day.completionRate >= 50) return 'bg-yellow-100';\n    return 'bg-red-100';\n  };\n\n  const getBorderColor = () => {\n    if (isSelected) return 'border-blue-500 border-2';\n    if (day.isToday) return 'border-blue-300 border-2';\n    if (hasLeaveTask) return 'border-yellow-300';\n    if (hasRestTask) return 'border-blue-300';\n    return 'border-gray-200';\n  };\n\n  const getStatusIcon = () => {\n    if (hasLeaveTask) return '🏠'; // 请假\n    if (hasRestTask) return '😴'; // 休息\n    return null;\n  };\n\n  return (\n    <div\n      onClick={() => onSelect(day.date)}\n      className={`\n        relative h-24 p-1 border cursor-pointer hover:bg-gray-50 transition-colors\n        ${getBorderColor()}\n        ${getCompletionColor()}\n        ${!day.isCurrentMonth ? 'opacity-30' : ''}\n      `}\n    >\n      <div className=\"flex justify-between items-start h-full\">\n        <div className=\"flex items-center space-x-1\">\n          <span className={`text-sm font-medium ${\n            day.isToday ? 'text-blue-600' : \n            day.isCurrentMonth ? 'text-gray-900' : 'text-gray-400'\n          }`}>\n            {day.dayNumber}\n          </span>\n          {getStatusIcon() && (\n            <span className=\"text-xs\">{getStatusIcon()}</span>\n          )}\n        </div>\n        \n        {(day.totalTasks > 0 && !hasLeaveTask && !hasRestTask) && (\n          <div className=\"text-right\">\n            <div className=\"text-xs text-gray-600\">\n              {day.completedTasks}/{day.totalTasks}\n            </div>\n            {day.completionRate > 0 && (\n              <div className={`text-xs font-semibold ${\n                day.completionRate === 100 ? 'text-green-600' :\n                day.completionRate >= 50 ? 'text-yellow-600' : 'text-red-600'\n              }`}>\n                {day.completionRate}%\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* 特殊状态显示 */}\n        {hasLeaveTask && (\n          <div className=\"text-right\">\n            <div className=\"text-xs text-yellow-600 font-semibold\">已请假</div>\n          </div>\n        )}\n        \n        {hasRestTask && !hasLeaveTask && (\n          <div className=\"text-right\">\n            <div className=\"text-xs text-blue-600 font-semibold\">休息日</div>\n          </div>\n        )}\n      </div>\n      \n      {/* 任务指示器 */}\n      {day.totalTasks > 0 && (\n        <div className=\"absolute bottom-1 left-1 right-1\">\n          <div className=\"flex space-x-1\">\n            {Array.from({ length: Math.min(day.totalTasks, 5) }).map((_, index) => (\n              <div\n                key={index}\n                className={`h-1 flex-1 rounded ${\n                  index < day.completedTasks ? 'bg-green-500' : 'bg-gray-300'\n                }`}\n              />\n            ))}\n            {day.totalTasks > 5 && (\n              <span className=\"text-xs text-gray-500\">+</span>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 任务详情弹窗组件\nconst TaskDetailsModal = ({ date, tasks, onClose }) => {\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-11/12 max-h-[80vh] overflow-hidden\">\n        {/* 弹窗头部 */}\n        <div className=\"bg-blue-500 text-white px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-lg font-semibold\">\n            {date.getMonth() + 1}月{date.getDate()}日任务\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"text-white hover:text-gray-200 text-xl font-bold\"\n          >\n            ×\n          </button>\n        </div>\n\n        {/* 弹窗内容 */}\n        <div className=\"p-6 max-h-96 overflow-y-auto\">\n          {tasks.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-gray-400 text-4xl mb-3\">📝</div>\n              <p className=\"text-gray-500\">当日无任务</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {tasks.map(task => (\n                <TaskItem key={task.id} task={task} />\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* 弹窗底部 */}\n        <div className=\"bg-gray-50 px-6 py-4 flex justify-end\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\"\n          >\n            关闭\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// 任务项组件\nconst TaskItem = ({ task }) => {\n  // 检查是否是特殊任务类型\n  const isLeaveTask = task.type === 'leave';\n  const isRestTask = task.type === '休息';\n\n  const getTaskTypeDisplay = () => {\n    if (isLeaveTask) return { text: '已请假', color: 'bg-yellow-100 text-yellow-800' };\n    if (isRestTask) return { text: '休息日', color: 'bg-blue-100 text-blue-800' };\n    \n    switch (task.type) {\n      case '数学': return { text: '数学', color: 'bg-blue-100 text-blue-800' };\n      case '英语': return { text: '英语', color: 'bg-green-100 text-green-800' };\n      case '专业课': return { text: '专业课', color: 'bg-purple-100 text-purple-800' };\n      default: return { text: task.type || '其他', color: 'bg-gray-100 text-gray-800' };\n    }\n  };\n\n  const typeDisplay = getTaskTypeDisplay();\n\n  return (\n    <div className={`p-4 rounded-lg border ${\n      task.completed \n        ? 'bg-green-50 border-green-200' \n        : isLeaveTask || isRestTask\n          ? 'bg-gray-50 border-gray-200'\n          : 'bg-white border-gray-200'\n    }`}>\n      <div className=\"flex items-start space-x-3\">\n        {/* 状态指示器 */}\n        <div className={`mt-1 w-4 h-4 rounded-full flex items-center justify-center ${\n          task.completed \n            ? 'bg-green-500 text-white' \n            : isLeaveTask || isRestTask\n              ? 'bg-gray-400'\n              : 'bg-gray-300'\n        }`}>\n          {task.completed && (\n            <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n            </svg>\n          )}\n        </div>\n\n        <div className=\"flex-1\">\n          {/* 任务标题 */}\n          <h4 className={`font-medium text-sm ${\n            task.completed ? 'text-green-700 line-through' : 'text-gray-800'\n          }`}>\n            {isLeaveTask ? '🏠 已请假' : isRestTask ? '😴 休息日' : (task.title || '任务标题')}\n          </h4>\n\n          {/* 任务类型标签 */}\n          <div className=\"mt-2 flex items-center space-x-2\">\n            <span className={`px-2 py-1 rounded text-xs ${typeDisplay.color}`}>\n              {typeDisplay.text}\n            </span>\n\n            {/* 完成状态 */}\n            {task.completed && !isLeaveTask && !isRestTask && (\n              <span className=\"text-green-600 text-xs\">✓ 已完成</span>\n            )}\n          </div>\n\n          {/* 用时显示 */}\n          {task.duration && (task.duration.hour > 0 || task.duration.minute > 0) && (\n            <div className=\"mt-2 text-xs text-gray-600\">\n              用时: {task.duration.hour}时{task.duration.minute}分\n            </div>\n          )}\n\n          {/* 凭证显示 */}\n          {task.proof && (\n            <div className=\"mt-2 text-xs text-green-600\">\n              📷 已上传完成凭证\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MonthScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}