{"ast":null,"code":"import React,{useState,useEffect}from'react';import{taskAPI}from'../services/api';import{useApp}from'../contexts/AppContext';import FutureDaysView from'./FutureDaysView';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TodayScreen=()=>{const{systemDate}=useApp();const[tasks,setTasks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[leaveRecords,setLeaveRecords]=useState([]);const[showLeaveConfirm,setShowLeaveConfirm]=useState(false);const[showFutureDays,setShowFutureDays]=useState(false);// 格式化日期为YYYY-MM-DD\nconst formatDate=date=>{return date.toISOString().split('T')[0];};// 获取今日任务\nconst fetchTodayTasks=async()=>{try{setLoading(true);setError(null);const today=formatDate(systemDate);const response=await taskAPI.getTasks(today,today);if(response.success){// 后端返回的是按日期分组的对象，需要提取今天的任务\nconst todayTasks=response.data[today]||[];setTasks(todayTasks);}else{setError(response.message||'获取任务失败');}}catch(err){setError(err.message||'网络错误');}finally{setLoading(false);}};// 获取请假记录\nconst fetchLeaveRecords=async()=>{try{const response=await taskAPI.getLeaveRecords();if(response.success){setLeaveRecords(response.data||[]);}}catch(err){console.error('获取请假记录失败:',err);}};// 更新任务状态\nconst updateTaskStatus=async(taskId,completed)=>{try{const response=await taskAPI.updateTask(taskId,{completed,completedAt:completed?new Date().toISOString():null});if(response.success){setTasks(prevTasks=>prevTasks.map(task=>task.id===taskId?{...task,completed,completedAt:completed?new Date().toISOString():null}:task));}else{setError(response.message||'更新任务失败');}}catch(err){setError(err.message||'更新任务失败');}};// 更新任务时长\nconst updateTaskDuration=async(taskId,duration)=>{try{const response=await taskAPI.updateTask(taskId,{duration});if(response.success){setTasks(prevTasks=>prevTasks.map(task=>task.id===taskId?{...task,duration}:task));}else{setError(response.message||'更新时长失败');}}catch(err){setError(err.message||'更新时长失败');}};// 显示请假确认弹窗\nconst showLeaveDialog=()=>{setShowLeaveConfirm(true);};// 确认申请请假\nconst confirmRequestLeave=async()=>{try{setShowLeaveConfirm(false);setLoading(true);const today=formatDate(systemDate);const response=await taskAPI.requestLeave(today);if(response.success){await fetchLeaveRecords();await fetchTodayTasks();// 重新获取任务数据\nsetError(null);alert('请假申请成功！今日任务已顺延到明日，所有后续任务自动顺延一天。');}else{setError(response.message||'请假申请失败');}}catch(err){setError(err.message||'请假申请失败');}finally{setLoading(false);}};// 取消请假\nconst cancelRequestLeave=()=>{setShowLeaveConfirm(false);};useEffect(()=>{fetchTodayTasks();fetchLeaveRecords();},[systemDate]);// 检查今日是否已请假\nconst isOnLeaveToday=()=>{const today=formatDate(systemDate);return leaveRecords.some(record=>record.date===today&&record.status==='approved');};// 计算今日完成率\nconst getCompletionRate=()=>{const taskArray=Array.isArray(tasks)?tasks:[];if(taskArray.length===0)return 0;const completedTasks=taskArray.filter(task=>task.completed).length;return Math.round(completedTasks/taskArray.length*100);};if(loading){return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"today-screen\",className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"\\u52A0\\u8F7D\\u4E2D...\"})]})});}// 检查是否有认证错误\nif(error&&error.includes('令牌')){return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"today-screen\",className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-600 mb-2\",children:\"\\u9700\\u8981\\u767B\\u5F55\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"\\u8BF7\\u5148\\u767B\\u5F55\\u540E\\u67E5\\u770B\\u4EFB\\u52A1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/login',className:\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\",children:\"\\u524D\\u5F80\\u767B\\u5F55\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"today-screen\",className:\"p-6 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:[\"\\u4ECA\\u65E5\\u4EFB\\u52A1 - \",systemDate.toLocaleDateString('zh-CN')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"\\u5B8C\\u6210\\u7387: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-blue-600\",children:[getCompletionRate(),\"%\"]}),Array.isArray(tasks)&&tasks.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[\"(\",tasks.filter(t=>t.completed).length,\"/\",tasks.length,\" \\u9879\\u5B8C\\u6210)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFutureDays(true),className:\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm\",children:\"\\u672A\\u6765\\u4EFB\\u52A1 \\u2192\"}),!isOnLeaveToday()&&/*#__PURE__*/_jsx(\"button\",{onClick:showLeaveDialog,className:\"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 text-sm\",children:\"\\u4ECA\\u65E5\\u8BF7\\u5047\"})]})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\",children:error}),isOnLeaveToday()&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-yellow-100 border border-yellow-400 text-yellow-800 rounded-md\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"\\u4ECA\\u65E5\\u5DF2\\u8BF7\\u5047\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"\\u60A8\\u4ECA\\u65E5\\u7684\\u8BF7\\u5047\\u7533\\u8BF7\\u5DF2\\u901A\\u8FC7\\uFF0C\\u65E0\\u9700\\u5B8C\\u6210\\u4EFB\\u52A1\\u3002\"})]}),(Array.isArray(tasks)?tasks:[]).length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 text-6xl mb-4\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-600 mb-2\",children:\"\\u6682\\u65E0\\u4ECA\\u65E5\\u4EFB\\u52A1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u4ECA\\u5929\\u6CA1\\u6709\\u5B89\\u6392\\u4EFB\\u52A1\\uFF0C\\u60A8\\u53EF\\u4EE5\\u4F11\\u606F\\u4E00\\u4E0B\\u3002\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:(Array.isArray(tasks)?tasks:[]).map(task=>/*#__PURE__*/_jsx(TaskCard,{task:task,onStatusChange:updateTaskStatus,onDurationChange:updateTaskDuration,disabled:isOnLeaveToday()},task.id))}),showLeaveConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl p-6 w-11/12 max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-2\",children:\"\\u786E\\u8BA4\\u8BF7\\u5047\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600 mb-6 text-left space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\u4ECA\\u65E5\\u6240\\u6709\\u672A\\u5B8C\\u6210\\u4EFB\\u52A1\\u5C06\\u987A\\u5EF6\\u5230\\u660E\\u65E5\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\u540E\\u7EED\\u6240\\u6709\\u4EFB\\u52A1\\u81EA\\u52A8\\u987A\\u5EF6\\u4E00\\u5929\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\u5982\\u679C\\u660E\\u65E5\\u662F\\u4F11\\u606F\\u65E5\\uFF0C\\u4EFB\\u52A1\\u5C06\\u8DF3\\u8FC7\\u4F11\\u606F\\u65E5\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-semibold\",children:\"\\u2022 \\u6B64\\u64CD\\u4F5C\\u4E0D\\u53EF\\u64A4\\u9500\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-800 mb-6\",children:\"\\u662F\\u5426\\u786E\\u8BA4\\u8BF7\\u5047\\uFF1F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:cancelRequestLeave,className:\"flex-1 px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\",children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmRequestLeave,className:\"flex-1 px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\",children:\"\\u786E\\u8BA4\\u8BF7\\u5047\"})]})]})})}),showFutureDays&&/*#__PURE__*/_jsx(FutureDaysView,{onClose:()=>setShowFutureDays(false)})]});};// 任务卡片组件\nconst TaskCard=_ref=>{var _task$duration,_task$duration2;let{task,onStatusChange,onDurationChange,disabled}=_ref;const[duration,setDuration]=useState({hour:((_task$duration=task.duration)===null||_task$duration===void 0?void 0:_task$duration.hour)||0,minute:((_task$duration2=task.duration)===null||_task$duration2===void 0?void 0:_task$duration2.minute)||0});const[isEditing,setIsEditing]=useState(false);const[showImageUpload,setShowImageUpload]=useState(false);const[selectedImage,setSelectedImage]=useState(null);const[imagePreview,setImagePreview]=useState(task.proof||null);const handleStatusToggle=()=>{if(disabled)return;onStatusChange(task.id,!task.completed);};const handleDurationSave=()=>{onDurationChange(task.id,duration);setIsEditing(false);};const formatDuration=()=>{if(!task.duration||task.duration.hour===0&&task.duration.minute===0){return'未记录';}return`${task.duration.hour}小时${task.duration.minute}分钟`;};// 处理图片选择\nconst handleImageSelect=event=>{const file=event.target.files[0];if(file){// 检查文件大小（限制为5MB）\nif(file.size>5*1024*1024){alert('图片大小不能超过5MB');return;}// 检查文件类型\nif(!file.type.startsWith('image/')){alert('请选择图片文件');return;}setSelectedImage(file);// 创建预览\nconst reader=new FileReader();reader.onload=e=>{setImagePreview(e.target.result);};reader.readAsDataURL(file);}};// 上传图片\nconst handleImageUpload=async()=>{if(!selectedImage)return;try{const reader=new FileReader();reader.onload=async e=>{const base64Image=e.target.result;// 调用API上传图片\nawait updateTaskProof(task.id,base64Image);setShowImageUpload(false);setSelectedImage(null);};reader.readAsDataURL(selectedImage);}catch(error){console.error('图片上传失败:',error);alert('图片上传失败，请重试');}};// 更新任务凭证\nconst updateTaskProof=async(taskId,proofImage)=>{try{const response=await taskAPI.updateTask(taskId,{proof:proofImage});if(response.success){// 更新本地状态\nsetImagePreview(proofImage);}else{throw new Error(response.message||'上传失败');}}catch(error){throw error;}};return/*#__PURE__*/_jsx(\"div\",{className:`border rounded-lg p-4 ${task.completed?'bg-green-50 border-green-200':disabled?'bg-gray-50 border-gray-200':'bg-white border-gray-200'} ${disabled?'opacity-60':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 flex-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleStatusToggle,disabled:disabled,className:`mt-1 w-5 h-5 rounded border-2 flex items-center justify-center ${task.completed?'bg-green-500 border-green-500 text-white':disabled?'border-gray-300 cursor-not-allowed':'border-gray-300 hover:border-blue-500'}`,children:task.completed&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`font-semibold ${task.completed?'text-green-700 line-through':'text-gray-800'}`,children:task.title||'任务标题'}),task.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mt-1\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center space-x-4 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded text-xs ${task.type==='数学'?'bg-blue-100 text-blue-800':task.type==='英语'?'bg-green-100 text-green-800':task.type==='专业课'?'bg-purple-100 text-purple-800':task.type==='休息'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'}`,children:task.type||'其他'}),task.completed&&task.completedAt&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-600\",children:[\"\\u5B8C\\u6210\\u4E8E: \",new Date(task.completedAt).toLocaleTimeString('zh-CN')]}),imagePreview&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 text-xs\",children:\"\\uD83D\\uDCF7 \\u5DF2\\u4E0A\\u4F20\\u51ED\\u8BC1\"})]}),task.completed&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:!showImageUpload?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:imagePreview?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"\\u4EFB\\u52A1\\u51ED\\u8BC1\",className:\"w-16 h-16 object-cover rounded border cursor-pointer\",onClick:()=>{// 点击查看大图\nconst newWindow=window.open();newWindow.document.write(`<img src=\"${imagePreview}\" style=\"max-width:100%; max-height:100%;\" />`);}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowImageUpload(true),className:\"text-blue-600 text-xs hover:text-blue-800\",children:\"\\u66F4\\u6362\\u51ED\\u8BC1\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowImageUpload(true),className:\"px-3 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600\",disabled:disabled,children:\"\\uD83D\\uDCF7 \\u4E0A\\u4F20\\u5B8C\\u6210\\u51ED\\u8BC1\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"border rounded p-3 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageSelect,className:\"text-xs\"}),selectedImage&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"\\u9884\\u89C8\",className:\"w-16 h-16 object-cover rounded border\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleImageUpload,className:\"px-3 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600\",children:\"\\u786E\\u8BA4\\u4E0A\\u4F20\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowImageUpload(false);setSelectedImage(null);setImagePreview(task.proof||null);},className:\"px-3 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600\",children:\"\\u53D6\\u6D88\"})]})]})]})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"select\",{value:duration.hour,onChange:e=>setDuration({...duration,hour:parseInt(e.target.value)}),className:\"w-16 px-2 py-1 border rounded text-sm bg-white\",children:Array.from({length:24},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i,children:i},i))}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\u65F6\"}),/*#__PURE__*/_jsx(\"select\",{value:duration.minute,onChange:e=>setDuration({...duration,minute:parseInt(e.target.value)}),className:\"w-16 px-2 py-1 border rounded text-sm bg-white\",children:Array.from({length:12},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i*5,children:i*5},i*5))}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\u5206\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDurationSave,className:\"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600\",children:\"\\u4FDD\\u5B58\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(false),className:\"px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600\",children:\"\\u53D6\\u6D88\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:[\"\\u7528\\u65F6: \",formatDuration()]}),!disabled&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"text-xs text-blue-600 hover:text-blue-800\",children:\"\\u7F16\\u8F91\\u65F6\\u957F\"})]})})]})});};export default TodayScreen;","map":{"version":3,"names":["React","useState","useEffect","taskAPI","useApp","FutureDaysView","jsx","_jsx","jsxs","_jsxs","TodayScreen","systemDate","tasks","setTasks","loading","setLoading","error","setError","leaveRecords","setLeaveRecords","showLeaveConfirm","setShowLeaveConfirm","showFutureDays","setShowFutureDays","formatDate","date","toISOString","split","fetchTodayTasks","today","response","getTasks","success","todayTasks","data","message","err","fetchLeaveRecords","getLeaveRecords","console","updateTaskStatus","taskId","completed","updateTask","completedAt","Date","prevTasks","map","task","id","updateTaskDuration","duration","showLeaveDialog","confirmRequestLeave","requestLeave","alert","cancelRequestLeave","isOnLeaveToday","some","record","status","getCompletionRate","taskArray","Array","isArray","length","completedTasks","filter","Math","round","className","children","includes","onClick","window","location","href","toLocaleDateString","t","TaskCard","onStatusChange","onDurationChange","disabled","onClose","_ref","_task$duration","_task$duration2","setDuration","hour","minute","isEditing","setIsEditing","showImageUpload","setShowImageUpload","selectedImage","setSelectedImage","imagePreview","setImagePreview","proof","handleStatusToggle","handleDurationSave","formatDuration","handleImageSelect","event","file","target","files","size","type","startsWith","reader","FileReader","onload","e","result","readAsDataURL","handleImageUpload","base64Image","updateTaskProof","proofImage","Error","fill","viewBox","fillRule","d","clipRule","title","description","toLocaleTimeString","src","alt","newWindow","open","document","write","accept","onChange","value","parseInt","from","_","i"],"sources":["/Users/danieldong/Documents/GitHub/gougegaoshu/frontend/src/components/TodayScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { taskAPI } from '../services/api';\nimport { useApp } from '../contexts/AppContext';\nimport FutureDaysView from './FutureDaysView';\n\nconst TodayScreen = () => {\n  const { systemDate } = useApp();\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [leaveRecords, setLeaveRecords] = useState([]);\n  const [showLeaveConfirm, setShowLeaveConfirm] = useState(false);\n  const [showFutureDays, setShowFutureDays] = useState(false);\n\n  // 格式化日期为YYYY-MM-DD\n  const formatDate = (date) => {\n    return date.toISOString().split('T')[0];\n  };\n\n  // 获取今日任务\n  const fetchTodayTasks = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const today = formatDate(systemDate);\n      const response = await taskAPI.getTasks(today, today);\n      \n      if (response.success) {\n        // 后端返回的是按日期分组的对象，需要提取今天的任务\n        const todayTasks = response.data[today] || [];\n        setTasks(todayTasks);\n      } else {\n        setError(response.message || '获取任务失败');\n      }\n    } catch (err) {\n      setError(err.message || '网络错误');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 获取请假记录\n  const fetchLeaveRecords = async () => {\n    try {\n      const response = await taskAPI.getLeaveRecords();\n      if (response.success) {\n        setLeaveRecords(response.data || []);\n      }\n    } catch (err) {\n      console.error('获取请假记录失败:', err);\n    }\n  };\n\n  // 更新任务状态\n  const updateTaskStatus = async (taskId, completed) => {\n    try {\n      const response = await taskAPI.updateTask(taskId, { \n        completed,\n        completedAt: completed ? new Date().toISOString() : null\n      });\n      \n      if (response.success) {\n        setTasks(prevTasks => \n          prevTasks.map(task => \n            task.id === taskId \n              ? { ...task, completed, completedAt: completed ? new Date().toISOString() : null }\n              : task\n          )\n        );\n      } else {\n        setError(response.message || '更新任务失败');\n      }\n    } catch (err) {\n      setError(err.message || '更新任务失败');\n    }\n  };\n\n  // 更新任务时长\n  const updateTaskDuration = async (taskId, duration) => {\n    try {\n      const response = await taskAPI.updateTask(taskId, { duration });\n      \n      if (response.success) {\n        setTasks(prevTasks => \n          prevTasks.map(task => \n            task.id === taskId ? { ...task, duration } : task\n          )\n        );\n      } else {\n        setError(response.message || '更新时长失败');\n      }\n    } catch (err) {\n      setError(err.message || '更新时长失败');\n    }\n  };\n\n  // 显示请假确认弹窗\n  const showLeaveDialog = () => {\n    setShowLeaveConfirm(true);\n  };\n\n  // 确认申请请假\n  const confirmRequestLeave = async () => {\n    try {\n      setShowLeaveConfirm(false);\n      setLoading(true);\n      \n      const today = formatDate(systemDate);\n      const response = await taskAPI.requestLeave(today);\n      \n      if (response.success) {\n        await fetchLeaveRecords();\n        await fetchTodayTasks(); // 重新获取任务数据\n        setError(null);\n        alert('请假申请成功！今日任务已顺延到明日，所有后续任务自动顺延一天。');\n      } else {\n        setError(response.message || '请假申请失败');\n      }\n    } catch (err) {\n      setError(err.message || '请假申请失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 取消请假\n  const cancelRequestLeave = () => {\n    setShowLeaveConfirm(false);\n  };\n\n  useEffect(() => {\n    fetchTodayTasks();\n    fetchLeaveRecords();\n  }, [systemDate]);\n\n  // 检查今日是否已请假\n  const isOnLeaveToday = () => {\n    const today = formatDate(systemDate);\n    return leaveRecords.some(record => \n      record.date === today && record.status === 'approved'\n    );\n  };\n\n  // 计算今日完成率\n  const getCompletionRate = () => {\n    const taskArray = Array.isArray(tasks) ? tasks : [];\n    if (taskArray.length === 0) return 0;\n    const completedTasks = taskArray.filter(task => task.completed).length;\n    return Math.round((completedTasks / taskArray.length) * 100);\n  };\n\n  if (loading) {\n    return (\n      <div data-testid=\"today-screen\" className=\"p-6\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\n          <p className=\"mt-2 text-gray-600\">加载中...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // 检查是否有认证错误\n  if (error && error.includes('令牌')) {\n    return (\n      <div data-testid=\"today-screen\" className=\"p-6\">\n        <div className=\"text-center\">\n          <div className=\"text-6xl mb-4\">🔒</div>\n          <h3 className=\"text-lg font-semibold text-gray-600 mb-2\">需要登录</h3>\n          <p className=\"text-gray-500 mb-4\">请先登录后查看任务</p>\n          <button\n            onClick={() => window.location.href = '/login'}\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n          >\n            前往登录\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div data-testid=\"today-screen\" className=\"p-6 max-w-4xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">\n          今日任务 - {systemDate.toLocaleDateString('zh-CN')}\n        </h1>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"text-sm text-gray-600\">\n            完成率: <span className=\"font-semibold text-blue-600\">{getCompletionRate()}%</span>\n            {Array.isArray(tasks) && tasks.length > 0 && (\n              <span className=\"ml-2\">\n                ({tasks.filter(t => t.completed).length}/{tasks.length} 项完成)\n              </span>\n            )}\n          </div>\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setShowFutureDays(true)}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm\"\n            >\n              未来任务 →\n            </button>\n            {!isOnLeaveToday() && (\n              <button\n                onClick={showLeaveDialog}\n                className=\"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 text-sm\"\n              >\n                今日请假\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\">\n          {error}\n        </div>\n      )}\n\n      {isOnLeaveToday() && (\n        <div className=\"mb-6 p-4 bg-yellow-100 border border-yellow-400 text-yellow-800 rounded-md\">\n          <p className=\"font-semibold\">今日已请假</p>\n          <p className=\"text-sm\">您今日的请假申请已通过，无需完成任务。</p>\n        </div>\n      )}\n\n      {(Array.isArray(tasks) ? tasks : []).length === 0 ? (\n        <div className=\"text-center py-8\">\n          <div className=\"text-gray-400 text-6xl mb-4\">📝</div>\n          <h3 className=\"text-lg font-semibold text-gray-600 mb-2\">暂无今日任务</h3>\n          <p className=\"text-gray-500\">今天没有安排任务，您可以休息一下。</p>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {(Array.isArray(tasks) ? tasks : []).map((task) => (\n            <TaskCard\n              key={task.id}\n              task={task}\n              onStatusChange={updateTaskStatus}\n              onDurationChange={updateTaskDuration}\n              disabled={isOnLeaveToday()}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* 请假确认弹窗 */}\n      {showLeaveConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl p-6 w-11/12 max-w-md\">\n            <div className=\"text-center\">\n              <div className=\"text-6xl mb-4\">⚠️</div>\n              <h3 className=\"text-xl font-bold text-gray-800 mb-2\">确认请假</h3>\n              <div className=\"text-gray-600 mb-6 text-left space-y-2\">\n                <p>• 今日所有未完成任务将顺延到明日</p>\n                <p>• 后续所有任务自动顺延一天</p>\n                <p>• 如果明日是休息日，任务将跳过休息日</p>\n                <p className=\"text-red-600 font-semibold\">• 此操作不可撤销</p>\n              </div>\n              <p className=\"text-lg font-semibold text-gray-800 mb-6\">\n                是否确认请假？\n              </p>\n              <div className=\"flex space-x-4\">\n                <button\n                  onClick={cancelRequestLeave}\n                  className=\"flex-1 px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\"\n                >\n                  取消\n                </button>\n                <button\n                  onClick={confirmRequestLeave}\n                  className=\"flex-1 px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\"\n                >\n                  确认请假\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 未来任务视图 */}\n      {showFutureDays && (\n        <FutureDaysView onClose={() => setShowFutureDays(false)} />\n      )}\n    </div>\n  );\n};\n\n// 任务卡片组件\nconst TaskCard = ({ task, onStatusChange, onDurationChange, disabled }) => {\n  const [duration, setDuration] = useState({\n    hour: task.duration?.hour || 0,\n    minute: task.duration?.minute || 0\n  });\n  const [isEditing, setIsEditing] = useState(false);\n  const [showImageUpload, setShowImageUpload] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(task.proof || null);\n\n  const handleStatusToggle = () => {\n    if (disabled) return;\n    onStatusChange(task.id, !task.completed);\n  };\n\n  const handleDurationSave = () => {\n    onDurationChange(task.id, duration);\n    setIsEditing(false);\n  };\n\n  const formatDuration = () => {\n    if (!task.duration || (task.duration.hour === 0 && task.duration.minute === 0)) {\n      return '未记录';\n    }\n    return `${task.duration.hour}小时${task.duration.minute}分钟`;\n  };\n\n  // 处理图片选择\n  const handleImageSelect = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      // 检查文件大小（限制为5MB）\n      if (file.size > 5 * 1024 * 1024) {\n        alert('图片大小不能超过5MB');\n        return;\n      }\n      \n      // 检查文件类型\n      if (!file.type.startsWith('image/')) {\n        alert('请选择图片文件');\n        return;\n      }\n\n      setSelectedImage(file);\n      \n      // 创建预览\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setImagePreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // 上传图片\n  const handleImageUpload = async () => {\n    if (!selectedImage) return;\n\n    try {\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        const base64Image = e.target.result;\n        \n        // 调用API上传图片\n        await updateTaskProof(task.id, base64Image);\n        setShowImageUpload(false);\n        setSelectedImage(null);\n      };\n      reader.readAsDataURL(selectedImage);\n    } catch (error) {\n      console.error('图片上传失败:', error);\n      alert('图片上传失败，请重试');\n    }\n  };\n\n  // 更新任务凭证\n  const updateTaskProof = async (taskId, proofImage) => {\n    try {\n      const response = await taskAPI.updateTask(taskId, { proof: proofImage });\n      if (response.success) {\n        // 更新本地状态\n        setImagePreview(proofImage);\n      } else {\n        throw new Error(response.message || '上传失败');\n      }\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  return (\n    <div className={`border rounded-lg p-4 ${\n      task.completed \n        ? 'bg-green-50 border-green-200' \n        : disabled \n          ? 'bg-gray-50 border-gray-200' \n          : 'bg-white border-gray-200'\n    } ${disabled ? 'opacity-60' : ''}`}>\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex items-start space-x-3 flex-1\">\n          <button\n            onClick={handleStatusToggle}\n            disabled={disabled}\n            className={`mt-1 w-5 h-5 rounded border-2 flex items-center justify-center ${\n              task.completed\n                ? 'bg-green-500 border-green-500 text-white'\n                : disabled\n                  ? 'border-gray-300 cursor-not-allowed'\n                  : 'border-gray-300 hover:border-blue-500'\n            }`}\n          >\n            {task.completed && (\n              <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n              </svg>\n            )}\n          </button>\n          \n          <div className=\"flex-1\">\n            <h3 className={`font-semibold ${\n              task.completed ? 'text-green-700 line-through' : 'text-gray-800'\n            }`}>\n              {task.title || '任务标题'}\n            </h3>\n            {task.description && (\n              <p className=\"text-gray-600 text-sm mt-1\">{task.description}</p>\n            )}\n            \n            <div className=\"mt-2 flex items-center space-x-4 text-sm\">\n              <span className={`px-2 py-1 rounded text-xs ${\n                task.type === '数学' \n                  ? 'bg-blue-100 text-blue-800'\n                  : task.type === '英语'\n                    ? 'bg-green-100 text-green-800'\n                    : task.type === '专业课'\n                      ? 'bg-purple-100 text-purple-800'\n                      : task.type === '休息'\n                        ? 'bg-yellow-100 text-yellow-800'\n                        : 'bg-gray-100 text-gray-800'\n              }`}>\n                {task.type || '其他'}\n              </span>\n              \n              {task.completed && task.completedAt && (\n                <span className=\"text-green-600\">\n                  完成于: {new Date(task.completedAt).toLocaleTimeString('zh-CN')}\n                </span>\n              )}\n              \n              {imagePreview && (\n                <span className=\"text-green-600 text-xs\">📷 已上传凭证</span>\n              )}\n            </div>\n\n            {/* 照片上传区域 */}\n            {task.completed && (\n              <div className=\"mt-3\">\n                {!showImageUpload ? (\n                  <div className=\"flex items-center space-x-2\">\n                    {imagePreview ? (\n                      <div className=\"flex items-center space-x-2\">\n                        <img \n                          src={imagePreview} \n                          alt=\"任务凭证\" \n                          className=\"w-16 h-16 object-cover rounded border cursor-pointer\"\n                          onClick={() => {\n                            // 点击查看大图\n                            const newWindow = window.open();\n                            newWindow.document.write(`<img src=\"${imagePreview}\" style=\"max-width:100%; max-height:100%;\" />`);\n                          }}\n                        />\n                        <button\n                          onClick={() => setShowImageUpload(true)}\n                          className=\"text-blue-600 text-xs hover:text-blue-800\"\n                        >\n                          更换凭证\n                        </button>\n                      </div>\n                    ) : (\n                      <button\n                        onClick={() => setShowImageUpload(true)}\n                        className=\"px-3 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600\"\n                        disabled={disabled}\n                      >\n                        📷 上传完成凭证\n                      </button>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"border rounded p-3 bg-gray-50\">\n                    <div className=\"flex flex-col space-y-2\">\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleImageSelect}\n                        className=\"text-xs\"\n                      />\n                      {selectedImage && (\n                        <div className=\"flex items-center space-x-2\">\n                          <img \n                            src={imagePreview} \n                            alt=\"预览\" \n                            className=\"w-16 h-16 object-cover rounded border\"\n                          />\n                          <div className=\"flex space-x-2\">\n                            <button\n                              onClick={handleImageUpload}\n                              className=\"px-3 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600\"\n                            >\n                              确认上传\n                            </button>\n                            <button\n                              onClick={() => {\n                                setShowImageUpload(false);\n                                setSelectedImage(null);\n                                setImagePreview(task.proof || null);\n                              }}\n                              className=\"px-3 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600\"\n                            >\n                              取消\n                            </button>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"ml-4\">\n          {isEditing ? (\n            <div className=\"flex items-center space-x-2\">\n              <select\n                value={duration.hour}\n                onChange={(e) => setDuration({...duration, hour: parseInt(e.target.value)})}\n                className=\"w-16 px-2 py-1 border rounded text-sm bg-white\"\n              >\n                {Array.from({length: 24}, (_, i) => (\n                  <option key={i} value={i}>{i}</option>\n                ))}\n              </select>\n              <span className=\"text-sm\">时</span>\n              <select\n                value={duration.minute}\n                onChange={(e) => setDuration({...duration, minute: parseInt(e.target.value)})}\n                className=\"w-16 px-2 py-1 border rounded text-sm bg-white\"\n              >\n                {Array.from({length: 12}, (_, i) => (\n                  <option key={i * 5} value={i * 5}>{i * 5}</option>\n                ))}\n              </select>\n              <span className=\"text-sm\">分</span>\n              <button\n                onClick={handleDurationSave}\n                className=\"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600\"\n              >\n                保存\n              </button>\n              <button\n                onClick={() => setIsEditing(false)}\n                className=\"px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600\"\n              >\n                取消\n              </button>\n            </div>\n          ) : (\n            <div className=\"text-right\">\n              <div className=\"text-sm text-gray-600 mb-1\">\n                用时: {formatDuration()}\n              </div>\n              {!disabled && (\n                <button\n                  onClick={() => setIsEditing(true)}\n                  className=\"text-xs text-blue-600 hover:text-blue-800\"\n                >\n                  编辑时长\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TodayScreen;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,MAAM,KAAQ,wBAAwB,CAC/C,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAEC,UAAW,CAAC,CAAGP,MAAM,CAAC,CAAC,CAC/B,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACiB,YAAY,CAAEC,eAAe,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACmB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACqB,cAAc,CAAEC,iBAAiB,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE3D;AACA,KAAM,CAAAuB,UAAU,CAAIC,IAAI,EAAK,CAC3B,MAAO,CAAAA,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACzC,CAAC,CAED;AACA,KAAM,CAAAC,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACFb,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd,KAAM,CAAAY,KAAK,CAAGL,UAAU,CAACb,UAAU,CAAC,CACpC,KAAM,CAAAmB,QAAQ,CAAG,KAAM,CAAA3B,OAAO,CAAC4B,QAAQ,CAACF,KAAK,CAAEA,KAAK,CAAC,CAErD,GAAIC,QAAQ,CAACE,OAAO,CAAE,CACpB;AACA,KAAM,CAAAC,UAAU,CAAGH,QAAQ,CAACI,IAAI,CAACL,KAAK,CAAC,EAAI,EAAE,CAC7ChB,QAAQ,CAACoB,UAAU,CAAC,CACtB,CAAC,IAAM,CACLhB,QAAQ,CAACa,QAAQ,CAACK,OAAO,EAAI,QAAQ,CAAC,CACxC,CACF,CAAE,MAAOC,GAAG,CAAE,CACZnB,QAAQ,CAACmB,GAAG,CAACD,OAAO,EAAI,MAAM,CAAC,CACjC,CAAC,OAAS,CACRpB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA,KAAM,CAAAsB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAA3B,OAAO,CAACmC,eAAe,CAAC,CAAC,CAChD,GAAIR,QAAQ,CAACE,OAAO,CAAE,CACpBb,eAAe,CAACW,QAAQ,CAACI,IAAI,EAAI,EAAE,CAAC,CACtC,CACF,CAAE,MAAOE,GAAG,CAAE,CACZG,OAAO,CAACvB,KAAK,CAAC,WAAW,CAAEoB,GAAG,CAAC,CACjC,CACF,CAAC,CAED;AACA,KAAM,CAAAI,gBAAgB,CAAG,KAAAA,CAAOC,MAAM,CAAEC,SAAS,GAAK,CACpD,GAAI,CACF,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAA3B,OAAO,CAACwC,UAAU,CAACF,MAAM,CAAE,CAChDC,SAAS,CACTE,WAAW,CAAEF,SAAS,CAAG,GAAI,CAAAG,IAAI,CAAC,CAAC,CAACnB,WAAW,CAAC,CAAC,CAAG,IACtD,CAAC,CAAC,CAEF,GAAII,QAAQ,CAACE,OAAO,CAAE,CACpBnB,QAAQ,CAACiC,SAAS,EAChBA,SAAS,CAACC,GAAG,CAACC,IAAI,EAChBA,IAAI,CAACC,EAAE,GAAKR,MAAM,CACd,CAAE,GAAGO,IAAI,CAAEN,SAAS,CAAEE,WAAW,CAAEF,SAAS,CAAG,GAAI,CAAAG,IAAI,CAAC,CAAC,CAACnB,WAAW,CAAC,CAAC,CAAG,IAAK,CAAC,CAChFsB,IACN,CACF,CAAC,CACH,CAAC,IAAM,CACL/B,QAAQ,CAACa,QAAQ,CAACK,OAAO,EAAI,QAAQ,CAAC,CACxC,CACF,CAAE,MAAOC,GAAG,CAAE,CACZnB,QAAQ,CAACmB,GAAG,CAACD,OAAO,EAAI,QAAQ,CAAC,CACnC,CACF,CAAC,CAED;AACA,KAAM,CAAAe,kBAAkB,CAAG,KAAAA,CAAOT,MAAM,CAAEU,QAAQ,GAAK,CACrD,GAAI,CACF,KAAM,CAAArB,QAAQ,CAAG,KAAM,CAAA3B,OAAO,CAACwC,UAAU,CAACF,MAAM,CAAE,CAAEU,QAAS,CAAC,CAAC,CAE/D,GAAIrB,QAAQ,CAACE,OAAO,CAAE,CACpBnB,QAAQ,CAACiC,SAAS,EAChBA,SAAS,CAACC,GAAG,CAACC,IAAI,EAChBA,IAAI,CAACC,EAAE,GAAKR,MAAM,CAAG,CAAE,GAAGO,IAAI,CAAEG,QAAS,CAAC,CAAGH,IAC/C,CACF,CAAC,CACH,CAAC,IAAM,CACL/B,QAAQ,CAACa,QAAQ,CAACK,OAAO,EAAI,QAAQ,CAAC,CACxC,CACF,CAAE,MAAOC,GAAG,CAAE,CACZnB,QAAQ,CAACmB,GAAG,CAACD,OAAO,EAAI,QAAQ,CAAC,CACnC,CACF,CAAC,CAED;AACA,KAAM,CAAAiB,eAAe,CAAGA,CAAA,GAAM,CAC5B/B,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED;AACA,KAAM,CAAAgC,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACFhC,mBAAmB,CAAC,KAAK,CAAC,CAC1BN,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAc,KAAK,CAAGL,UAAU,CAACb,UAAU,CAAC,CACpC,KAAM,CAAAmB,QAAQ,CAAG,KAAM,CAAA3B,OAAO,CAACmD,YAAY,CAACzB,KAAK,CAAC,CAElD,GAAIC,QAAQ,CAACE,OAAO,CAAE,CACpB,KAAM,CAAAK,iBAAiB,CAAC,CAAC,CACzB,KAAM,CAAAT,eAAe,CAAC,CAAC,CAAE;AACzBX,QAAQ,CAAC,IAAI,CAAC,CACdsC,KAAK,CAAC,iCAAiC,CAAC,CAC1C,CAAC,IAAM,CACLtC,QAAQ,CAACa,QAAQ,CAACK,OAAO,EAAI,QAAQ,CAAC,CACxC,CACF,CAAE,MAAOC,GAAG,CAAE,CACZnB,QAAQ,CAACmB,GAAG,CAACD,OAAO,EAAI,QAAQ,CAAC,CACnC,CAAC,OAAS,CACRpB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA,KAAM,CAAAyC,kBAAkB,CAAGA,CAAA,GAAM,CAC/BnC,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAC,CAEDnB,SAAS,CAAC,IAAM,CACd0B,eAAe,CAAC,CAAC,CACjBS,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,CAAC1B,UAAU,CAAC,CAAC,CAEhB;AACA,KAAM,CAAA8C,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAA5B,KAAK,CAAGL,UAAU,CAACb,UAAU,CAAC,CACpC,MAAO,CAAAO,YAAY,CAACwC,IAAI,CAACC,MAAM,EAC7BA,MAAM,CAAClC,IAAI,GAAKI,KAAK,EAAI8B,MAAM,CAACC,MAAM,GAAK,UAC7C,CAAC,CACH,CAAC,CAED;AACA,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAAC,SAAS,CAAGC,KAAK,CAACC,OAAO,CAACpD,KAAK,CAAC,CAAGA,KAAK,CAAG,EAAE,CACnD,GAAIkD,SAAS,CAACG,MAAM,GAAK,CAAC,CAAE,MAAO,EAAC,CACpC,KAAM,CAAAC,cAAc,CAAGJ,SAAS,CAACK,MAAM,CAACnB,IAAI,EAAIA,IAAI,CAACN,SAAS,CAAC,CAACuB,MAAM,CACtE,MAAO,CAAAG,IAAI,CAACC,KAAK,CAAEH,cAAc,CAAGJ,SAAS,CAACG,MAAM,CAAI,GAAG,CAAC,CAC9D,CAAC,CAED,GAAInD,OAAO,CAAE,CACX,mBACEP,IAAA,QAAK,cAAY,cAAc,CAAC+D,SAAS,CAAC,KAAK,CAAAC,QAAA,cAC7C9D,KAAA,QAAK6D,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhE,IAAA,QAAK+D,SAAS,CAAC,sEAAsE,CAAM,CAAC,cAC5F/D,IAAA,MAAG+D,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,uBAAM,CAAG,CAAC,EACzC,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAIvD,KAAK,EAAIA,KAAK,CAACwD,QAAQ,CAAC,IAAI,CAAC,CAAE,CACjC,mBACEjE,IAAA,QAAK,cAAY,cAAc,CAAC+D,SAAS,CAAC,KAAK,CAAAC,QAAA,cAC7C9D,KAAA,QAAK6D,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhE,IAAA,QAAK+D,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACvChE,IAAA,OAAI+D,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,cAClEhE,IAAA,MAAG+D,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,wDAAS,CAAG,CAAC,cAC/ChE,IAAA,WACEkE,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAS,CAC/CN,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,0BAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,mBACE9D,KAAA,QAAK,cAAY,cAAc,CAAC6D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAC/D9D,KAAA,QAAK6D,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB9D,KAAA,OAAI6D,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EAAC,6BAC7C,CAAC5D,UAAU,CAACkE,kBAAkB,CAAC,OAAO,CAAC,EAC5C,CAAC,cACLpE,KAAA,QAAK6D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD9D,KAAA,QAAK6D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,sBAChC,cAAA9D,KAAA,SAAM6D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EAAEV,iBAAiB,CAAC,CAAC,CAAC,GAAC,EAAM,CAAC,CAC/EE,KAAK,CAACC,OAAO,CAACpD,KAAK,CAAC,EAAIA,KAAK,CAACqD,MAAM,CAAG,CAAC,eACvCxD,KAAA,SAAM6D,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,GACpB,CAAC3D,KAAK,CAACuD,MAAM,CAACW,CAAC,EAAIA,CAAC,CAACpC,SAAS,CAAC,CAACuB,MAAM,CAAC,GAAC,CAACrD,KAAK,CAACqD,MAAM,CAAC,sBACzD,EAAM,CACP,EACE,CAAC,cACNxD,KAAA,QAAK6D,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BhE,IAAA,WACEkE,OAAO,CAAEA,CAAA,GAAMlD,iBAAiB,CAAC,IAAI,CAAE,CACvC+C,SAAS,CAAC,uEAAuE,CAAAC,QAAA,CAClF,iCAED,CAAQ,CAAC,CACR,CAACd,cAAc,CAAC,CAAC,eAChBlD,IAAA,WACEkE,OAAO,CAAErB,eAAgB,CACzBkB,SAAS,CAAC,2EAA2E,CAAAC,QAAA,CACtF,0BAED,CAAQ,CACT,EACE,CAAC,EACH,CAAC,EACH,CAAC,CAELvD,KAAK,eACJT,IAAA,QAAK+D,SAAS,CAAC,mEAAmE,CAAAC,QAAA,CAC/EvD,KAAK,CACH,CACN,CAEAyC,cAAc,CAAC,CAAC,eACfhD,KAAA,QAAK6D,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACzFhE,IAAA,MAAG+D,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gCAAK,CAAG,CAAC,cACtChE,IAAA,MAAG+D,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,oHAAmB,CAAG,CAAC,EAC3C,CACN,CAEA,CAACR,KAAK,CAACC,OAAO,CAACpD,KAAK,CAAC,CAAGA,KAAK,CAAG,EAAE,EAAEqD,MAAM,GAAK,CAAC,cAC/CxD,KAAA,QAAK6D,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BhE,IAAA,QAAK+D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACrDhE,IAAA,OAAI+D,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,sCAAM,CAAI,CAAC,cACpEhE,IAAA,MAAG+D,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,wGAAiB,CAAG,CAAC,EAC/C,CAAC,cAENhE,IAAA,QAAK+D,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB,CAACR,KAAK,CAACC,OAAO,CAACpD,KAAK,CAAC,CAAGA,KAAK,CAAG,EAAE,EAAEmC,GAAG,CAAEC,IAAI,eAC5CzC,IAAA,CAACwE,QAAQ,EAEP/B,IAAI,CAAEA,IAAK,CACXgC,cAAc,CAAExC,gBAAiB,CACjCyC,gBAAgB,CAAE/B,kBAAmB,CACrCgC,QAAQ,CAAEzB,cAAc,CAAC,CAAE,EAJtBT,IAAI,CAACC,EAKX,CACF,CAAC,CACC,CACN,CAGA7B,gBAAgB,eACfb,IAAA,QAAK+D,SAAS,CAAC,4EAA4E,CAAAC,QAAA,cACzFhE,IAAA,QAAK+D,SAAS,CAAC,oDAAoD,CAAAC,QAAA,cACjE9D,KAAA,QAAK6D,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhE,IAAA,QAAK+D,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACvChE,IAAA,OAAI+D,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,cAC9D9D,KAAA,QAAK6D,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDhE,IAAA,MAAAgE,QAAA,CAAG,mGAAiB,CAAG,CAAC,cACxBhE,IAAA,MAAAgE,QAAA,CAAG,iFAAc,CAAG,CAAC,cACrBhE,IAAA,MAAAgE,QAAA,CAAG,+GAAmB,CAAG,CAAC,cAC1BhE,IAAA,MAAG+D,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,mDAAS,CAAG,CAAC,EACpD,CAAC,cACNhE,IAAA,MAAG+D,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,4CAExD,CAAG,CAAC,cACJ9D,KAAA,QAAK6D,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BhE,IAAA,WACEkE,OAAO,CAAEjB,kBAAmB,CAC5Bc,SAAS,CAAC,sEAAsE,CAAAC,QAAA,CACjF,cAED,CAAQ,CAAC,cACThE,IAAA,WACEkE,OAAO,CAAEpB,mBAAoB,CAC7BiB,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,0BAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CACH,CACN,CAGAjD,cAAc,eACbf,IAAA,CAACF,cAAc,EAAC8E,OAAO,CAAEA,CAAA,GAAM5D,iBAAiB,CAAC,KAAK,CAAE,CAAE,CAC3D,EACE,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAwD,QAAQ,CAAGK,IAAA,EAA0D,KAAAC,cAAA,CAAAC,eAAA,IAAzD,CAAEtC,IAAI,CAAEgC,cAAc,CAAEC,gBAAgB,CAAEC,QAAS,CAAC,CAAAE,IAAA,CACpE,KAAM,CAACjC,QAAQ,CAAEoC,WAAW,CAAC,CAAGtF,QAAQ,CAAC,CACvCuF,IAAI,CAAE,EAAAH,cAAA,CAAArC,IAAI,CAACG,QAAQ,UAAAkC,cAAA,iBAAbA,cAAA,CAAeG,IAAI,GAAI,CAAC,CAC9BC,MAAM,CAAE,EAAAH,eAAA,CAAAtC,IAAI,CAACG,QAAQ,UAAAmC,eAAA,iBAAbA,eAAA,CAAeG,MAAM,GAAI,CACnC,CAAC,CAAC,CACF,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAG1F,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAC2F,eAAe,CAAEC,kBAAkB,CAAC,CAAG5F,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAC6F,aAAa,CAAEC,gBAAgB,CAAC,CAAG9F,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAAC+F,YAAY,CAAEC,eAAe,CAAC,CAAGhG,QAAQ,CAAC+C,IAAI,CAACkD,KAAK,EAAI,IAAI,CAAC,CAEpE,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAIjB,QAAQ,CAAE,OACdF,cAAc,CAAChC,IAAI,CAACC,EAAE,CAAE,CAACD,IAAI,CAACN,SAAS,CAAC,CAC1C,CAAC,CAED,KAAM,CAAA0D,kBAAkB,CAAGA,CAAA,GAAM,CAC/BnB,gBAAgB,CAACjC,IAAI,CAACC,EAAE,CAAEE,QAAQ,CAAC,CACnCwC,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,KAAM,CAAAU,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAACrD,IAAI,CAACG,QAAQ,EAAKH,IAAI,CAACG,QAAQ,CAACqC,IAAI,GAAK,CAAC,EAAIxC,IAAI,CAACG,QAAQ,CAACsC,MAAM,GAAK,CAAE,CAAE,CAC9E,MAAO,KAAK,CACd,CACA,MAAO,GAAGzC,IAAI,CAACG,QAAQ,CAACqC,IAAI,KAAKxC,IAAI,CAACG,QAAQ,CAACsC,MAAM,IAAI,CAC3D,CAAC,CAED;AACA,KAAM,CAAAa,iBAAiB,CAAIC,KAAK,EAAK,CACnC,KAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAClC,GAAIF,IAAI,CAAE,CACR;AACA,GAAIA,IAAI,CAACG,IAAI,CAAG,CAAC,CAAG,IAAI,CAAG,IAAI,CAAE,CAC/BpD,KAAK,CAAC,aAAa,CAAC,CACpB,OACF,CAEA;AACA,GAAI,CAACiD,IAAI,CAACI,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,CAAE,CACnCtD,KAAK,CAAC,SAAS,CAAC,CAChB,OACF,CAEAwC,gBAAgB,CAACS,IAAI,CAAC,CAEtB;AACA,KAAM,CAAAM,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,CAAC,EAAK,CACrBhB,eAAe,CAACgB,CAAC,CAACR,MAAM,CAACS,MAAM,CAAC,CAClC,CAAC,CACDJ,MAAM,CAACK,aAAa,CAACX,IAAI,CAAC,CAC5B,CACF,CAAC,CAED;AACA,KAAM,CAAAY,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAACtB,aAAa,CAAE,OAEpB,GAAI,CACF,KAAM,CAAAgB,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC3B,KAAM,CAAAI,WAAW,CAAGJ,CAAC,CAACR,MAAM,CAACS,MAAM,CAEnC;AACA,KAAM,CAAAI,eAAe,CAACtE,IAAI,CAACC,EAAE,CAAEoE,WAAW,CAAC,CAC3CxB,kBAAkB,CAAC,KAAK,CAAC,CACzBE,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAC,CACDe,MAAM,CAACK,aAAa,CAACrB,aAAa,CAAC,CACrC,CAAE,MAAO9E,KAAK,CAAE,CACduB,OAAO,CAACvB,KAAK,CAAC,SAAS,CAAEA,KAAK,CAAC,CAC/BuC,KAAK,CAAC,YAAY,CAAC,CACrB,CACF,CAAC,CAED;AACA,KAAM,CAAA+D,eAAe,CAAG,KAAAA,CAAO7E,MAAM,CAAE8E,UAAU,GAAK,CACpD,GAAI,CACF,KAAM,CAAAzF,QAAQ,CAAG,KAAM,CAAA3B,OAAO,CAACwC,UAAU,CAACF,MAAM,CAAE,CAAEyD,KAAK,CAAEqB,UAAW,CAAC,CAAC,CACxE,GAAIzF,QAAQ,CAACE,OAAO,CAAE,CACpB;AACAiE,eAAe,CAACsB,UAAU,CAAC,CAC7B,CAAC,IAAM,CACL,KAAM,IAAI,CAAAC,KAAK,CAAC1F,QAAQ,CAACK,OAAO,EAAI,MAAM,CAAC,CAC7C,CACF,CAAE,MAAOnB,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,mBACET,IAAA,QAAK+D,SAAS,CAAE,yBACdtB,IAAI,CAACN,SAAS,CACV,8BAA8B,CAC9BwC,QAAQ,CACN,4BAA4B,CAC5B,0BAA0B,IAC9BA,QAAQ,CAAG,YAAY,CAAG,EAAE,EAAG,CAAAX,QAAA,cACjC9D,KAAA,QAAK6D,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C9D,KAAA,QAAK6D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhE,IAAA,WACEkE,OAAO,CAAE0B,kBAAmB,CAC5BjB,QAAQ,CAAEA,QAAS,CACnBZ,SAAS,CAAE,kEACTtB,IAAI,CAACN,SAAS,CACV,0CAA0C,CAC1CwC,QAAQ,CACN,oCAAoC,CACpC,uCAAuC,EAC5C,CAAAX,QAAA,CAEFvB,IAAI,CAACN,SAAS,eACbnC,IAAA,QAAK+D,SAAS,CAAC,SAAS,CAACmD,IAAI,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAnD,QAAA,cAC9DhE,IAAA,SAAMoH,QAAQ,CAAC,SAAS,CAACC,CAAC,CAAC,oHAAoH,CAACC,QAAQ,CAAC,SAAS,CAAE,CAAC,CAClK,CACN,CACK,CAAC,cAETpH,KAAA,QAAK6D,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBhE,IAAA,OAAI+D,SAAS,CAAE,iBACbtB,IAAI,CAACN,SAAS,CAAG,6BAA6B,CAAG,eAAe,EAC/D,CAAA6B,QAAA,CACAvB,IAAI,CAAC8E,KAAK,EAAI,MAAM,CACnB,CAAC,CACJ9E,IAAI,CAAC+E,WAAW,eACfxH,IAAA,MAAG+D,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAEvB,IAAI,CAAC+E,WAAW,CAAI,CAChE,cAEDtH,KAAA,QAAK6D,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvDhE,IAAA,SAAM+D,SAAS,CAAE,6BACftB,IAAI,CAAC4D,IAAI,GAAK,IAAI,CACd,2BAA2B,CAC3B5D,IAAI,CAAC4D,IAAI,GAAK,IAAI,CAChB,6BAA6B,CAC7B5D,IAAI,CAAC4D,IAAI,GAAK,KAAK,CACjB,+BAA+B,CAC/B5D,IAAI,CAAC4D,IAAI,GAAK,IAAI,CAChB,+BAA+B,CAC/B,2BAA2B,EACpC,CAAArC,QAAA,CACAvB,IAAI,CAAC4D,IAAI,EAAI,IAAI,CACd,CAAC,CAEN5D,IAAI,CAACN,SAAS,EAAIM,IAAI,CAACJ,WAAW,eACjCnC,KAAA,SAAM6D,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,sBAC1B,CAAC,GAAI,CAAA1B,IAAI,CAACG,IAAI,CAACJ,WAAW,CAAC,CAACoF,kBAAkB,CAAC,OAAO,CAAC,EACxD,CACP,CAEAhC,YAAY,eACXzF,IAAA,SAAM+D,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,6CAAQ,CAAM,CACxD,EACE,CAAC,CAGLvB,IAAI,CAACN,SAAS,eACbnC,IAAA,QAAK+D,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClB,CAACqB,eAAe,cACfrF,IAAA,QAAK+D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACzCyB,YAAY,cACXvF,KAAA,QAAK6D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ChE,IAAA,QACE0H,GAAG,CAAEjC,YAAa,CAClBkC,GAAG,CAAC,0BAAM,CACV5D,SAAS,CAAC,sDAAsD,CAChEG,OAAO,CAAEA,CAAA,GAAM,CACb;AACA,KAAM,CAAA0D,SAAS,CAAGzD,MAAM,CAAC0D,IAAI,CAAC,CAAC,CAC/BD,SAAS,CAACE,QAAQ,CAACC,KAAK,CAAC,aAAatC,YAAY,+CAA+C,CAAC,CACpG,CAAE,CACH,CAAC,cACFzF,IAAA,WACEkE,OAAO,CAAEA,CAAA,GAAMoB,kBAAkB,CAAC,IAAI,CAAE,CACxCvB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CACtD,0BAED,CAAQ,CAAC,EACN,CAAC,cAENhE,IAAA,WACEkE,OAAO,CAAEA,CAAA,GAAMoB,kBAAkB,CAAC,IAAI,CAAE,CACxCvB,SAAS,CAAC,sEAAsE,CAChFY,QAAQ,CAAEA,QAAS,CAAAX,QAAA,CACpB,mDAED,CAAQ,CACT,CACE,CAAC,cAENhE,IAAA,QAAK+D,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC5C9D,KAAA,QAAK6D,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtChE,IAAA,UACEqG,IAAI,CAAC,MAAM,CACX2B,MAAM,CAAC,SAAS,CAChBC,QAAQ,CAAElC,iBAAkB,CAC5BhC,SAAS,CAAC,SAAS,CACpB,CAAC,CACDwB,aAAa,eACZrF,KAAA,QAAK6D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ChE,IAAA,QACE0H,GAAG,CAAEjC,YAAa,CAClBkC,GAAG,CAAC,cAAI,CACR5D,SAAS,CAAC,uCAAuC,CAClD,CAAC,cACF7D,KAAA,QAAK6D,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BhE,IAAA,WACEkE,OAAO,CAAE2C,iBAAkB,CAC3B9C,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,0BAED,CAAQ,CAAC,cACThE,IAAA,WACEkE,OAAO,CAAEA,CAAA,GAAM,CACboB,kBAAkB,CAAC,KAAK,CAAC,CACzBE,gBAAgB,CAAC,IAAI,CAAC,CACtBE,eAAe,CAACjD,IAAI,CAACkD,KAAK,EAAI,IAAI,CAAC,CACrC,CAAE,CACF5B,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,cAED,CAAQ,CAAC,EACN,CAAC,EACH,CACN,EACE,CAAC,CACH,CACN,CACE,CACN,EACE,CAAC,EACH,CAAC,cAENhE,IAAA,QAAK+D,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBmB,SAAS,cACRjF,KAAA,QAAK6D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ChE,IAAA,WACEkI,KAAK,CAAEtF,QAAQ,CAACqC,IAAK,CACrBgD,QAAQ,CAAGvB,CAAC,EAAK1B,WAAW,CAAC,CAAC,GAAGpC,QAAQ,CAAEqC,IAAI,CAAEkD,QAAQ,CAACzB,CAAC,CAACR,MAAM,CAACgC,KAAK,CAAC,CAAC,CAAE,CAC5EnE,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAEzDR,KAAK,CAAC4E,IAAI,CAAC,CAAC1E,MAAM,CAAE,EAAE,CAAC,CAAE,CAAC2E,CAAC,CAAEC,CAAC,gBAC7BtI,IAAA,WAAgBkI,KAAK,CAAEI,CAAE,CAAAtE,QAAA,CAAEsE,CAAC,EAAfA,CAAwB,CACtC,CAAC,CACI,CAAC,cACTtI,IAAA,SAAM+D,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,cAClChE,IAAA,WACEkI,KAAK,CAAEtF,QAAQ,CAACsC,MAAO,CACvB+C,QAAQ,CAAGvB,CAAC,EAAK1B,WAAW,CAAC,CAAC,GAAGpC,QAAQ,CAAEsC,MAAM,CAAEiD,QAAQ,CAACzB,CAAC,CAACR,MAAM,CAACgC,KAAK,CAAC,CAAC,CAAE,CAC9EnE,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAEzDR,KAAK,CAAC4E,IAAI,CAAC,CAAC1E,MAAM,CAAE,EAAE,CAAC,CAAE,CAAC2E,CAAC,CAAEC,CAAC,gBAC7BtI,IAAA,WAAoBkI,KAAK,CAAEI,CAAC,CAAG,CAAE,CAAAtE,QAAA,CAAEsE,CAAC,CAAG,CAAC,EAA3BA,CAAC,CAAG,CAAgC,CAClD,CAAC,CACI,CAAC,cACTtI,IAAA,SAAM+D,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,cAClChE,IAAA,WACEkE,OAAO,CAAE2B,kBAAmB,CAC5B9B,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,cAED,CAAQ,CAAC,cACThE,IAAA,WACEkE,OAAO,CAAEA,CAAA,GAAMkB,YAAY,CAAC,KAAK,CAAE,CACnCrB,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,cAED,CAAQ,CAAC,EACN,CAAC,cAEN9D,KAAA,QAAK6D,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9D,KAAA,QAAK6D,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,gBACtC,CAAC8B,cAAc,CAAC,CAAC,EAClB,CAAC,CACL,CAACnB,QAAQ,eACR3E,IAAA,WACEkE,OAAO,CAAEA,CAAA,GAAMkB,YAAY,CAAC,IAAI,CAAE,CAClCrB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CACtD,0BAED,CAAQ,CACT,EACE,CACN,CACE,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7D,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}