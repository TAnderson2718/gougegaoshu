{"ast":null,"code":"/**\n * Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÂ∑•ÂÖ∑\n * Á°Æ‰øùÂâçÁ´ØÁä∂ÊÄÅ‰∏éÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰øùÊåÅÂêåÊ≠•\n */\n\n/**\n * Ê∏ÖÁ©∫ÊâÄÊúâÁõ∏ÂÖ≥ÁöÑÊú¨Âú∞ÁºìÂ≠ò\n * @param {string[]} additionalKeys - È¢ùÂ§ñÈúÄË¶ÅÊ∏ÖÈô§ÁöÑÁºìÂ≠òÈîÆ\n */\nexport const clearAllCache = (additionalKeys = []) => {\n  console.log('üßπ ÂºÄÂßãÊ∏ÖÁ©∫Êú¨Âú∞ÁºìÂ≠ò...');\n\n  // Ê†áÂáÜÁºìÂ≠òÈîÆÊ®°Âºè\n  const standardPatterns = ['tasks_', 'profile_', 'leave_records_', 'task_report_', 'students_', 'admin_', 'user_', 'systemDate'];\n\n  // Êü•ÊâæÊâÄÊúâÂåπÈÖçÁöÑÁºìÂ≠òÈîÆ\n  const allKeys = Object.keys(localStorage);\n  const keysToRemove = allKeys.filter(key => standardPatterns.some(pattern => key.startsWith(pattern)) || additionalKeys.includes(key));\n\n  // Ê∏ÖÈô§ÁºìÂ≠ò\n  keysToRemove.forEach(key => {\n    localStorage.removeItem(key);\n    console.log(`   - Ê∏ÖÈô§ÁºìÂ≠ò: ${key}`);\n  });\n  console.log(`‚úÖ Â∑≤Ê∏ÖÈô§ ${keysToRemove.length} ‰∏™ÁºìÂ≠òÈ°π`);\n  return keysToRemove;\n};\n\n/**\n * Âº∫Âà∂Âà∑Êñ∞È°µÈù¢‰ª•Á°Æ‰øùÊï∞ÊçÆ‰∏ÄËá¥ÊÄß\n * @param {number} delay - Âª∂ËøüÊó∂Èó¥ÔºàÊØ´ÁßíÔºâ\n * @param {string} message - Âà∑Êñ∞ÂâçÊòæÁ§∫ÁöÑÊ∂àÊÅØ\n */\nexport const forceRefresh = (delay = 1000, message = null) => {\n  if (message) {\n    console.log(message);\n  }\n  if (typeof window !== 'undefined') {\n    console.log(`üîÑ ${delay}ms ÂêéÂà∑Êñ∞È°µÈù¢‰ª•Á°Æ‰øùÊï∞ÊçÆ‰∏ÄËá¥ÊÄß...`);\n    setTimeout(() => {\n      window.location.reload();\n    }, delay);\n  }\n};\n\n/**\n * ÂÆåÊï¥ÁöÑÊï∞ÊçÆÈáçÁΩÆÊµÅÁ®ã\n * @param {Function} apiResetFunction - ÂêéÁ´ØÈáçÁΩÆAPIÂáΩÊï∞\n * @param {Object} options - ÈÖçÁΩÆÈÄâÈ°π\n */\nexport const performCompleteReset = async (apiResetFunction, options = {}) => {\n  const {\n    confirmMessage = 'Á°ÆÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâÊï∞ÊçÆÂêóÔºüÊ≠§Êìç‰ΩúÊó†Ê≥ïÊí§ÈîÄÔºÅ',\n    successMessage = 'Êï∞ÊçÆÈáçÁΩÆÊàêÂäüÔºåÈ°µÈù¢Â∞ÜÂà∑Êñ∞',\n    additionalCacheKeys = [],\n    refreshDelay = 1000,\n    onSuccess = null,\n    onError = null\n  } = options;\n\n  // Á°ÆËÆ§Êìç‰Ωú\n  if (!window.confirm(confirmMessage)) {\n    return {\n      success: false,\n      cancelled: true\n    };\n  }\n  try {\n    console.log('üîÑ ÂºÄÂßãÂÆåÊï¥Êï∞ÊçÆÈáçÁΩÆÊµÅÁ®ã...');\n\n    // 1. Ë∞ÉÁî®ÂêéÁ´ØAPIÈáçÁΩÆÊï∞ÊçÆÂ∫ì\n    console.log('üì° Ë∞ÉÁî®ÂêéÁ´ØÈáçÁΩÆAPI...');\n    const response = await apiResetFunction();\n    if (!response.success) {\n      throw new Error(response.message || 'ÂêéÁ´ØÈáçÁΩÆÂ§±Ë¥•');\n    }\n    console.log('‚úÖ ÂêéÁ´ØÊï∞ÊçÆÈáçÁΩÆÊàêÂäü:', response.data);\n\n    // 2. Ê∏ÖÁ©∫ÂâçÁ´ØÁºìÂ≠ò\n    const clearedKeys = clearAllCache(additionalCacheKeys);\n\n    // 3. ÊâßË°åÊàêÂäüÂõûË∞É\n    if (onSuccess) {\n      await onSuccess(response.data);\n    }\n\n    // 4. ÊòæÁ§∫ÊàêÂäüÊ∂àÊÅØ\n    if (successMessage) {\n      alert(successMessage);\n    }\n\n    // 5. Âº∫Âà∂Âà∑Êñ∞È°µÈù¢\n    forceRefresh(refreshDelay, 'üîÑ ÂáÜÂ§áÂà∑Êñ∞È°µÈù¢...');\n    return {\n      success: true,\n      data: response.data,\n      clearedCacheKeys: clearedKeys\n    };\n  } catch (error) {\n    console.error('‚ùå ÂÆåÊï¥ÈáçÁΩÆÂ§±Ë¥•:', error);\n\n    // Âç≥‰ΩøAPIÂ§±Ë¥•Ôºå‰πüÂ∞ùËØïÊ∏ÖÁ©∫ÁºìÂ≠ò\n    clearAllCache(additionalCacheKeys);\n\n    // ÊâßË°åÈîôËØØÂõûË∞É\n    if (onError) {\n      onError(error);\n    }\n    return {\n      success: false,\n      error: error.message || 'ÈáçÁΩÆÂ§±Ë¥•'\n    };\n  }\n};\n\n/**\n * Â≠¶ÁîüÁ´ØÈáçÁΩÆ‰∏ìÁî®ÂáΩÊï∞\n * @param {Function} resetAPI - Â≠¶ÁîüÈáçÁΩÆAPI\n * @param {Function} setSystemDate - ËÆæÁΩÆÁ≥ªÁªüÊó•ÊúüÂáΩÊï∞\n * @param {Date} initialDate - ÂàùÂßãÊó•Êúü\n */\nexport const performStudentReset = async (resetAPI, setSystemDate, initialDate) => {\n  return performCompleteReset(resetAPI, {\n    confirmMessage: '‚ö†Ô∏è Á°ÆÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâ‰ªªÂä°Êï∞ÊçÆÂêóÔºü\\n\\nÊ≠§Êìç‰ΩúÂ∞ÜÔºö\\n- Ê∏ÖÁ©∫ÊâÄÊúâ‰ªªÂä°ËÆ∞ÂΩï\\n- Ê∏ÖÁ©∫ËØ∑ÂÅáËÆ∞ÂΩï\\n- ÈáçÁΩÆÊó•ÊúüÂà∞ÂàùÂßãÁä∂ÊÄÅ\\n- Ê∏ÖÁ©∫Êú¨Âú∞ÁºìÂ≠ò\\n\\nÊ≠§Êìç‰ΩúÊó†Ê≥ïÊí§ÈîÄÔºÅ',\n    successMessage: '‚úÖ Â≠¶ÁîüÊï∞ÊçÆÈáçÁΩÆÊàêÂäüÔºÅ\\nÊâÄÊúâ‰ªªÂä°Êï∞ÊçÆÂ∑≤Ê∏ÖÁ©∫ÔºåÊó•ÊúüÂ∑≤ÈáçÁΩÆÔºåÈ°µÈù¢Â∞ÜÂà∑Êñ∞„ÄÇ',\n    onSuccess: async () => {\n      // ÈáçÁΩÆÁ≥ªÁªüÊó•Êúü\n      localStorage.removeItem('systemDate');\n      setSystemDate(new Date(initialDate));\n      console.log('üìÖ Á≥ªÁªüÊó•ÊúüÂ∑≤ÈáçÁΩÆÂà∞ÂàùÂßãÁä∂ÊÄÅ');\n    }\n  });\n};\n\n/**\n * ÁÆ°ÁêÜÂëòÁ´ØÈáçÁΩÆ‰∏ìÁî®ÂáΩÊï∞\n * @param {Function} resetAPI - ÁÆ°ÁêÜÂëòÈáçÁΩÆAPI\n * @param {Function} setStudents - ËÆæÁΩÆÂ≠¶ÁîüÂàóË°®ÂáΩÊï∞\n * @param {Function} setSelectedStudent - ËÆæÁΩÆÈÄâ‰∏≠Â≠¶ÁîüÂáΩÊï∞\n * @param {Function} setTaskReport - ËÆæÁΩÆ‰ªªÂä°Êä•ÂëäÂáΩÊï∞\n */\nexport const performAdminReset = async (resetAPI, setStudents, setSelectedStudent, setTaskReport) => {\n  return performCompleteReset(resetAPI, {\n    confirmMessage: '‚ö†Ô∏è Ë≠¶ÂëäÔºöÊ≠§Êìç‰ΩúÂ∞ÜÂà†Èô§ÊâÄÊúâÂ≠¶ÁîüÁöÑ‰ªªÂä°Êï∞ÊçÆ„ÄÅËØ∑ÂÅáËÆ∞ÂΩïÂíåË∞ÉÂ∫¶ÂéÜÂè≤Ôºå‰∏îÊó†Ê≥ïÊÅ¢Â§çÔºÅ\\n\\nüî¥ ÊúÄÂêéÁ°ÆËÆ§ÔºöÊÇ®Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫Êï¥‰∏™Á≥ªÁªüÁöÑÊâÄÊúâ‰ªªÂä°Êï∞ÊçÆÂêóÔºü',\n    successMessage: '‚úÖ ÁÆ°ÁêÜÂëòÈáçÁΩÆÊàêÂäüÔºÅ\\nÊâÄÊúâÂ≠¶ÁîüÁöÑ‰ªªÂä°Êï∞ÊçÆÂ∑≤Ê∏ÖÁ©∫ÔºåÈ°µÈù¢Â∞ÜÂà∑Êñ∞„ÄÇ',\n    additionalCacheKeys: ['admin_dashboard_state'],\n    onSuccess: async () => {\n      // ÈáçÁΩÆÁÆ°ÁêÜÂëòÁïåÈù¢Áä∂ÊÄÅ\n      setStudents([]);\n      setSelectedStudent(null);\n      setTaskReport(null);\n      console.log('üîß ÁÆ°ÁêÜÂëòÁïåÈù¢Áä∂ÊÄÅÂ∑≤ÈáçÁΩÆ');\n    }\n  });\n};\n\n/**\n * ÂØÜÁ†ÅÈáçÁΩÆÂêéÁöÑÊï∞ÊçÆÂêåÊ≠•\n * @param {string} studentId - Â≠¶ÁîüID\n * @param {Function} setStudents - ËÆæÁΩÆÂ≠¶ÁîüÂàóË°®ÂáΩÊï∞\n * @param {Function} setSelectedStudent - ËÆæÁΩÆÈÄâ‰∏≠Â≠¶ÁîüÂáΩÊï∞\n */\nexport const syncPasswordReset = (studentId, setStudents, setSelectedStudent) => {\n  console.log(`üîÑ ÂêåÊ≠•Â≠¶Áîü ${studentId} ÁöÑÂØÜÁ†ÅÈáçÁΩÆÁä∂ÊÄÅ...`);\n\n  // Êõ¥Êñ∞Â≠¶ÁîüÂàóË°®‰∏≠ÁöÑÂº∫Âà∂‰øÆÊîπÂØÜÁ†ÅÁä∂ÊÄÅ\n  setStudents(prevStudents => prevStudents.map(student => student.id === studentId ? {\n    ...student,\n    force_password_change: true\n  } : student));\n\n  // Êõ¥Êñ∞ÈÄâ‰∏≠Â≠¶ÁîüÁä∂ÊÄÅ\n  setSelectedStudent(prev => prev && prev.id === studentId ? {\n    ...prev,\n    force_password_change: true\n  } : prev);\n\n  // Ê∏ÖÈô§ËØ•Â≠¶ÁîüÁöÑÁî®Êà∑ÁºìÂ≠ò\n  const userCacheKey = `user_${studentId}`;\n  if (localStorage.getItem(userCacheKey)) {\n    localStorage.removeItem(userCacheKey);\n    console.log(`   - Ê∏ÖÈô§Â≠¶Áîü ${studentId} ÁöÑÁî®Êà∑ÁºìÂ≠ò`);\n  }\n  console.log(`‚úÖ Â≠¶Áîü ${studentId} ÁöÑÂØÜÁ†ÅÈáçÁΩÆÁä∂ÊÄÅÂ∑≤ÂêåÊ≠•`);\n};\nexport default {\n  clearAllCache,\n  forceRefresh,\n  performCompleteReset,\n  performStudentReset,\n  performAdminReset,\n  syncPasswordReset\n};","map":{"version":3,"names":["clearAllCache","additionalKeys","console","log","standardPatterns","allKeys","Object","keys","localStorage","keysToRemove","filter","key","some","pattern","startsWith","includes","forEach","removeItem","length","forceRefresh","delay","message","window","setTimeout","location","reload","performCompleteReset","apiResetFunction","options","confirmMessage","successMessage","additionalCacheKeys","refreshDelay","onSuccess","onError","confirm","success","cancelled","response","Error","data","clearedKeys","alert","clearedCacheKeys","error","performStudentReset","resetAPI","setSystemDate","initialDate","Date","performAdminReset","setStudents","setSelectedStudent","setTaskReport","syncPasswordReset","studentId","prevStudents","map","student","id","force_password_change","prev","userCacheKey","getItem"],"sources":["/Users/daniel/Documents/GitHub/gougegaoshu/frontend/src/utils/dataConsistency.js"],"sourcesContent":["/**\n * Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÂ∑•ÂÖ∑\n * Á°Æ‰øùÂâçÁ´ØÁä∂ÊÄÅ‰∏éÂêéÁ´ØÊï∞ÊçÆÂ∫ì‰øùÊåÅÂêåÊ≠•\n */\n\n/**\n * Ê∏ÖÁ©∫ÊâÄÊúâÁõ∏ÂÖ≥ÁöÑÊú¨Âú∞ÁºìÂ≠ò\n * @param {string[]} additionalKeys - È¢ùÂ§ñÈúÄË¶ÅÊ∏ÖÈô§ÁöÑÁºìÂ≠òÈîÆ\n */\nexport const clearAllCache = (additionalKeys = []) => {\n  console.log('üßπ ÂºÄÂßãÊ∏ÖÁ©∫Êú¨Âú∞ÁºìÂ≠ò...');\n  \n  // Ê†áÂáÜÁºìÂ≠òÈîÆÊ®°Âºè\n  const standardPatterns = [\n    'tasks_',\n    'profile_',\n    'leave_records_',\n    'task_report_',\n    'students_',\n    'admin_',\n    'user_',\n    'systemDate'\n  ];\n  \n  // Êü•ÊâæÊâÄÊúâÂåπÈÖçÁöÑÁºìÂ≠òÈîÆ\n  const allKeys = Object.keys(localStorage);\n  const keysToRemove = allKeys.filter(key => \n    standardPatterns.some(pattern => key.startsWith(pattern)) ||\n    additionalKeys.includes(key)\n  );\n  \n  // Ê∏ÖÈô§ÁºìÂ≠ò\n  keysToRemove.forEach(key => {\n    localStorage.removeItem(key);\n    console.log(`   - Ê∏ÖÈô§ÁºìÂ≠ò: ${key}`);\n  });\n  \n  console.log(`‚úÖ Â∑≤Ê∏ÖÈô§ ${keysToRemove.length} ‰∏™ÁºìÂ≠òÈ°π`);\n  return keysToRemove;\n};\n\n/**\n * Âº∫Âà∂Âà∑Êñ∞È°µÈù¢‰ª•Á°Æ‰øùÊï∞ÊçÆ‰∏ÄËá¥ÊÄß\n * @param {number} delay - Âª∂ËøüÊó∂Èó¥ÔºàÊØ´ÁßíÔºâ\n * @param {string} message - Âà∑Êñ∞ÂâçÊòæÁ§∫ÁöÑÊ∂àÊÅØ\n */\nexport const forceRefresh = (delay = 1000, message = null) => {\n  if (message) {\n    console.log(message);\n  }\n  \n  if (typeof window !== 'undefined') {\n    console.log(`üîÑ ${delay}ms ÂêéÂà∑Êñ∞È°µÈù¢‰ª•Á°Æ‰øùÊï∞ÊçÆ‰∏ÄËá¥ÊÄß...`);\n    setTimeout(() => {\n      window.location.reload();\n    }, delay);\n  }\n};\n\n/**\n * ÂÆåÊï¥ÁöÑÊï∞ÊçÆÈáçÁΩÆÊµÅÁ®ã\n * @param {Function} apiResetFunction - ÂêéÁ´ØÈáçÁΩÆAPIÂáΩÊï∞\n * @param {Object} options - ÈÖçÁΩÆÈÄâÈ°π\n */\nexport const performCompleteReset = async (apiResetFunction, options = {}) => {\n  const {\n    confirmMessage = 'Á°ÆÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâÊï∞ÊçÆÂêóÔºüÊ≠§Êìç‰ΩúÊó†Ê≥ïÊí§ÈîÄÔºÅ',\n    successMessage = 'Êï∞ÊçÆÈáçÁΩÆÊàêÂäüÔºåÈ°µÈù¢Â∞ÜÂà∑Êñ∞',\n    additionalCacheKeys = [],\n    refreshDelay = 1000,\n    onSuccess = null,\n    onError = null\n  } = options;\n  \n  // Á°ÆËÆ§Êìç‰Ωú\n  if (!window.confirm(confirmMessage)) {\n    return { success: false, cancelled: true };\n  }\n  \n  try {\n    console.log('üîÑ ÂºÄÂßãÂÆåÊï¥Êï∞ÊçÆÈáçÁΩÆÊµÅÁ®ã...');\n    \n    // 1. Ë∞ÉÁî®ÂêéÁ´ØAPIÈáçÁΩÆÊï∞ÊçÆÂ∫ì\n    console.log('üì° Ë∞ÉÁî®ÂêéÁ´ØÈáçÁΩÆAPI...');\n    const response = await apiResetFunction();\n    \n    if (!response.success) {\n      throw new Error(response.message || 'ÂêéÁ´ØÈáçÁΩÆÂ§±Ë¥•');\n    }\n    \n    console.log('‚úÖ ÂêéÁ´ØÊï∞ÊçÆÈáçÁΩÆÊàêÂäü:', response.data);\n    \n    // 2. Ê∏ÖÁ©∫ÂâçÁ´ØÁºìÂ≠ò\n    const clearedKeys = clearAllCache(additionalCacheKeys);\n    \n    // 3. ÊâßË°åÊàêÂäüÂõûË∞É\n    if (onSuccess) {\n      await onSuccess(response.data);\n    }\n    \n    // 4. ÊòæÁ§∫ÊàêÂäüÊ∂àÊÅØ\n    if (successMessage) {\n      alert(successMessage);\n    }\n    \n    // 5. Âº∫Âà∂Âà∑Êñ∞È°µÈù¢\n    forceRefresh(refreshDelay, 'üîÑ ÂáÜÂ§áÂà∑Êñ∞È°µÈù¢...');\n    \n    return {\n      success: true,\n      data: response.data,\n      clearedCacheKeys: clearedKeys\n    };\n    \n  } catch (error) {\n    console.error('‚ùå ÂÆåÊï¥ÈáçÁΩÆÂ§±Ë¥•:', error);\n    \n    // Âç≥‰ΩøAPIÂ§±Ë¥•Ôºå‰πüÂ∞ùËØïÊ∏ÖÁ©∫ÁºìÂ≠ò\n    clearAllCache(additionalCacheKeys);\n    \n    // ÊâßË°åÈîôËØØÂõûË∞É\n    if (onError) {\n      onError(error);\n    }\n    \n    return {\n      success: false,\n      error: error.message || 'ÈáçÁΩÆÂ§±Ë¥•'\n    };\n  }\n};\n\n/**\n * Â≠¶ÁîüÁ´ØÈáçÁΩÆ‰∏ìÁî®ÂáΩÊï∞\n * @param {Function} resetAPI - Â≠¶ÁîüÈáçÁΩÆAPI\n * @param {Function} setSystemDate - ËÆæÁΩÆÁ≥ªÁªüÊó•ÊúüÂáΩÊï∞\n * @param {Date} initialDate - ÂàùÂßãÊó•Êúü\n */\nexport const performStudentReset = async (resetAPI, setSystemDate, initialDate) => {\n  return performCompleteReset(resetAPI, {\n    confirmMessage: '‚ö†Ô∏è Á°ÆÂÆöË¶ÅÈáçÁΩÆÊâÄÊúâ‰ªªÂä°Êï∞ÊçÆÂêóÔºü\\n\\nÊ≠§Êìç‰ΩúÂ∞ÜÔºö\\n- Ê∏ÖÁ©∫ÊâÄÊúâ‰ªªÂä°ËÆ∞ÂΩï\\n- Ê∏ÖÁ©∫ËØ∑ÂÅáËÆ∞ÂΩï\\n- ÈáçÁΩÆÊó•ÊúüÂà∞ÂàùÂßãÁä∂ÊÄÅ\\n- Ê∏ÖÁ©∫Êú¨Âú∞ÁºìÂ≠ò\\n\\nÊ≠§Êìç‰ΩúÊó†Ê≥ïÊí§ÈîÄÔºÅ',\n    successMessage: '‚úÖ Â≠¶ÁîüÊï∞ÊçÆÈáçÁΩÆÊàêÂäüÔºÅ\\nÊâÄÊúâ‰ªªÂä°Êï∞ÊçÆÂ∑≤Ê∏ÖÁ©∫ÔºåÊó•ÊúüÂ∑≤ÈáçÁΩÆÔºåÈ°µÈù¢Â∞ÜÂà∑Êñ∞„ÄÇ',\n    onSuccess: async () => {\n      // ÈáçÁΩÆÁ≥ªÁªüÊó•Êúü\n      localStorage.removeItem('systemDate');\n      setSystemDate(new Date(initialDate));\n      console.log('üìÖ Á≥ªÁªüÊó•ÊúüÂ∑≤ÈáçÁΩÆÂà∞ÂàùÂßãÁä∂ÊÄÅ');\n    }\n  });\n};\n\n/**\n * ÁÆ°ÁêÜÂëòÁ´ØÈáçÁΩÆ‰∏ìÁî®ÂáΩÊï∞\n * @param {Function} resetAPI - ÁÆ°ÁêÜÂëòÈáçÁΩÆAPI\n * @param {Function} setStudents - ËÆæÁΩÆÂ≠¶ÁîüÂàóË°®ÂáΩÊï∞\n * @param {Function} setSelectedStudent - ËÆæÁΩÆÈÄâ‰∏≠Â≠¶ÁîüÂáΩÊï∞\n * @param {Function} setTaskReport - ËÆæÁΩÆ‰ªªÂä°Êä•ÂëäÂáΩÊï∞\n */\nexport const performAdminReset = async (resetAPI, setStudents, setSelectedStudent, setTaskReport) => {\n  return performCompleteReset(resetAPI, {\n    confirmMessage: '‚ö†Ô∏è Ë≠¶ÂëäÔºöÊ≠§Êìç‰ΩúÂ∞ÜÂà†Èô§ÊâÄÊúâÂ≠¶ÁîüÁöÑ‰ªªÂä°Êï∞ÊçÆ„ÄÅËØ∑ÂÅáËÆ∞ÂΩïÂíåË∞ÉÂ∫¶ÂéÜÂè≤Ôºå‰∏îÊó†Ê≥ïÊÅ¢Â§çÔºÅ\\n\\nüî¥ ÊúÄÂêéÁ°ÆËÆ§ÔºöÊÇ®Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫Êï¥‰∏™Á≥ªÁªüÁöÑÊâÄÊúâ‰ªªÂä°Êï∞ÊçÆÂêóÔºü',\n    successMessage: '‚úÖ ÁÆ°ÁêÜÂëòÈáçÁΩÆÊàêÂäüÔºÅ\\nÊâÄÊúâÂ≠¶ÁîüÁöÑ‰ªªÂä°Êï∞ÊçÆÂ∑≤Ê∏ÖÁ©∫ÔºåÈ°µÈù¢Â∞ÜÂà∑Êñ∞„ÄÇ',\n    additionalCacheKeys: ['admin_dashboard_state'],\n    onSuccess: async () => {\n      // ÈáçÁΩÆÁÆ°ÁêÜÂëòÁïåÈù¢Áä∂ÊÄÅ\n      setStudents([]);\n      setSelectedStudent(null);\n      setTaskReport(null);\n      console.log('üîß ÁÆ°ÁêÜÂëòÁïåÈù¢Áä∂ÊÄÅÂ∑≤ÈáçÁΩÆ');\n    }\n  });\n};\n\n/**\n * ÂØÜÁ†ÅÈáçÁΩÆÂêéÁöÑÊï∞ÊçÆÂêåÊ≠•\n * @param {string} studentId - Â≠¶ÁîüID\n * @param {Function} setStudents - ËÆæÁΩÆÂ≠¶ÁîüÂàóË°®ÂáΩÊï∞\n * @param {Function} setSelectedStudent - ËÆæÁΩÆÈÄâ‰∏≠Â≠¶ÁîüÂáΩÊï∞\n */\nexport const syncPasswordReset = (studentId, setStudents, setSelectedStudent) => {\n  console.log(`üîÑ ÂêåÊ≠•Â≠¶Áîü ${studentId} ÁöÑÂØÜÁ†ÅÈáçÁΩÆÁä∂ÊÄÅ...`);\n  \n  // Êõ¥Êñ∞Â≠¶ÁîüÂàóË°®‰∏≠ÁöÑÂº∫Âà∂‰øÆÊîπÂØÜÁ†ÅÁä∂ÊÄÅ\n  setStudents(prevStudents => \n    prevStudents.map(student => \n      student.id === studentId \n        ? { ...student, force_password_change: true }\n        : student\n    )\n  );\n\n  // Êõ¥Êñ∞ÈÄâ‰∏≠Â≠¶ÁîüÁä∂ÊÄÅ\n  setSelectedStudent(prev => \n    prev && prev.id === studentId \n      ? { ...prev, force_password_change: true }\n      : prev\n  );\n\n  // Ê∏ÖÈô§ËØ•Â≠¶ÁîüÁöÑÁî®Êà∑ÁºìÂ≠ò\n  const userCacheKey = `user_${studentId}`;\n  if (localStorage.getItem(userCacheKey)) {\n    localStorage.removeItem(userCacheKey);\n    console.log(`   - Ê∏ÖÈô§Â≠¶Áîü ${studentId} ÁöÑÁî®Êà∑ÁºìÂ≠ò`);\n  }\n  \n  console.log(`‚úÖ Â≠¶Áîü ${studentId} ÁöÑÂØÜÁ†ÅÈáçÁΩÆÁä∂ÊÄÅÂ∑≤ÂêåÊ≠•`);\n};\n\nexport default {\n  clearAllCache,\n  forceRefresh,\n  performCompleteReset,\n  performStudentReset,\n  performAdminReset,\n  syncPasswordReset\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}