{"ast":null,"code":"var _jsxFileName = \"/Users/danieldong/Documents/GitHub/gougegaoshu/frontend/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useApp } from '../contexts/AppContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const {\n    login,\n    loading,\n    error\n  } = useApp();\n  const [formData, setFormData] = useState({\n    studentId: '',\n    password: '',\n    rememberMe: false\n  });\n  const [loginError, setLoginError] = useState('');\n\n  // 加载保存的登录信息\n  useEffect(() => {\n    try {\n      const savedCredentials = localStorage.getItem('savedCredentials');\n      if (savedCredentials) {\n        const {\n          studentId,\n          password\n        } = JSON.parse(savedCredentials);\n        setFormData(prev => ({\n          ...prev,\n          studentId,\n          password,\n          rememberMe: true\n        }));\n      }\n    } catch (error) {\n      console.error('加载保存的登录信息失败:', error);\n    }\n  }, []);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoginError('');\n    if (!formData.studentId.trim() || !formData.password.trim()) {\n      setLoginError('请输入学生ID和密码');\n      return;\n    }\n    const result = await login(formData.studentId.toUpperCase().trim(), formData.password, formData.rememberMe);\n    if (!result.success) {\n      setLoginError(result.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center h-full p-8 bg-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://i.postimg.cc/pdmk3gkb/e9398b353525a8d77a431307d7e0cd1a.png\",\n          alt: \"Logo\",\n          className: \"w-16 h-16 mx-auto mb-4 object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-800\",\n          children: \"\\u5B66\\u751F\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"studentId\",\n            placeholder: \"\\u5B66\\u751FID (\\u4F8B\\u5982: ST001)\",\n            value: formData.studentId,\n            onChange: handleChange,\n            className: \"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"\\u5BC6\\u7801\",\n            value: formData.password,\n            onChange: handleChange,\n            className: \"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"remember-me\",\n            name: \"rememberMe\",\n            type: \"checkbox\",\n            checked: formData.rememberMe,\n            onChange: handleChange,\n            className: \"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"remember-me\",\n            className: \"ml-2 block text-sm text-gray-900\",\n            children: \"\\u8BB0\\u4F4F\\u5BC6\\u7801\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), (loginError || error) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-red-100 border border-red-400 text-red-700 rounded-md text-sm\",\n          children: loginError || error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          className: \"w-full bg-blue-600 text-white p-3 rounded-md font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: loading ? '登录中...' : '登录'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center text-sm text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u521D\\u59CB\\u5BC6\\u7801: Hello888\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u9996\\u6B21\\u767B\\u5F55\\u9700\\u8981\\u4FEE\\u6539\\u5BC6\\u7801\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"iE0XbM0h+rcsnhIEMJBYs9/8ryg=\", false, function () {\n  return [useApp];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useApp","jsxDEV","_jsxDEV","Login","_s","login","loading","error","formData","setFormData","studentId","password","rememberMe","loginError","setLoginError","savedCredentials","localStorage","getItem","JSON","parse","prev","console","handleChange","e","name","value","type","checked","target","handleSubmit","preventDefault","trim","result","toUpperCase","success","message","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","disabled","id","htmlFor","_c","$RefreshReg$"],"sources":["/Users/danieldong/Documents/GitHub/gougegaoshu/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useApp } from '../contexts/AppContext';\n\nconst Login = () => {\n  const { login, loading, error } = useApp();\n  const [formData, setFormData] = useState({\n    studentId: '',\n    password: '',\n    rememberMe: false\n  });\n  const [loginError, setLoginError] = useState('');\n\n  // 加载保存的登录信息\n  useEffect(() => {\n    try {\n      const savedCredentials = localStorage.getItem('savedCredentials');\n      if (savedCredentials) {\n        const { studentId, password } = JSON.parse(savedCredentials);\n        setFormData(prev => ({\n          ...prev,\n          studentId,\n          password,\n          rememberMe: true\n        }));\n      }\n    } catch (error) {\n      console.error('加载保存的登录信息失败:', error);\n    }\n  }, []);\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoginError('');\n\n    if (!formData.studentId.trim() || !formData.password.trim()) {\n      setLoginError('请输入学生ID和密码');\n      return;\n    }\n\n    const result = await login(\n      formData.studentId.toUpperCase().trim(), \n      formData.password, \n      formData.rememberMe\n    );\n\n    if (!result.success) {\n      setLoginError(result.message);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full p-8 bg-gray-100\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <img \n            src=\"https://i.postimg.cc/pdmk3gkb/e9398b353525a8d77a431307d7e0cd1a.png\" \n            alt=\"Logo\" \n            className=\"w-16 h-16 mx-auto mb-4 object-contain\"\n          />\n          <h1 className=\"text-3xl font-bold text-gray-800\">学生登录</h1>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <input\n              type=\"text\"\n              name=\"studentId\"\n              placeholder=\"学生ID (例如: ST001)\"\n              value={formData.studentId}\n              onChange={handleChange}\n              className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n              disabled={loading}\n            />\n          </div>\n\n          <div>\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"密码\"\n              value={formData.password}\n              onChange={handleChange}\n              className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"flex items-center\">\n            <input\n              id=\"remember-me\"\n              name=\"rememberMe\"\n              type=\"checkbox\"\n              checked={formData.rememberMe}\n              onChange={handleChange}\n              className=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n              disabled={loading}\n            />\n            <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\n              记住密码\n            </label>\n          </div>\n\n          {(loginError || error) && (\n            <div className=\"p-3 bg-red-100 border border-red-400 text-red-700 rounded-md text-sm\">\n              {loginError || error}\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-blue-600 text-white p-3 rounded-md font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? '登录中...' : '登录'}\n          </button>\n        </form>\n\n        <div className=\"mt-6 text-center text-sm text-gray-500\">\n          <p>初始密码: Hello888</p>\n          <p>首次登录需要修改密码</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}