{"ast":null,"code":"import React,{useState,useEffect}from'react';import{profileAPI,authAPI}from'../services/api';import{useApp}from'../contexts/AppContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileScreen=()=>{const{user}=useApp();const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[isEditing,setIsEditing]=useState(false);const[isChangingPassword,setIsChangingPassword]=useState(false);const[formData,setFormData]=useState({name:'',email:'',phone:'',major:'',grade:'',targetSchool:'',studyGoal:'',bio:''});const[passwordData,setPasswordData]=useState({oldPassword:'',newPassword:'',confirmPassword:''});// 获取个人档案\nconst fetchProfile=async()=>{try{setLoading(true);setError(null);const response=await profileAPI.getProfile();if(response.success){const profileData=response.data||{};setProfile(profileData);setFormData({name:profileData.name||(user===null||user===void 0?void 0:user.name)||'',email:profileData.email||'',phone:profileData.phone||'',major:profileData.major||'',grade:profileData.grade||'',targetSchool:profileData.targetSchool||'',studyGoal:profileData.studyGoal||'',bio:profileData.bio||''});}else{setError(response.message||'获取档案失败');}}catch(err){setError(err.message||'网络错误');}finally{setLoading(false);}};// 更新个人档案\nconst updateProfile=async()=>{try{setError(null);const response=await profileAPI.updateProfile(formData);if(response.success){setProfile({...profile,...formData});setIsEditing(false);alert('档案更新成功');}else{setError(response.message||'更新档案失败');}}catch(err){setError(err.message||'更新档案失败');}};// 修改密码\nconst changePassword=async()=>{try{setError(null);if(passwordData.newPassword!==passwordData.confirmPassword){setError('新密码与确认密码不一致');return;}if(passwordData.newPassword.length<6){setError('新密码长度不能少于6位');return;}const response=await authAPI.changePassword(passwordData.oldPassword,passwordData.newPassword);if(response.success){setIsChangingPassword(false);setPasswordData({oldPassword:'',newPassword:'',confirmPassword:''});alert('密码修改成功');}else{setError(response.message||'密码修改失败');}}catch(err){setError(err.message||'密码修改失败');}};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handlePasswordChange=e=>{const{name,value}=e.target;setPasswordData(prev=>({...prev,[name]:value}));};const cancelEdit=()=>{setIsEditing(false);if(profile){setFormData({name:profile.name||(user===null||user===void 0?void 0:user.name)||'',email:profile.email||'',phone:profile.phone||'',major:profile.major||'',grade:profile.grade||'',targetSchool:profile.targetSchool||'',studyGoal:profile.studyGoal||'',bio:profile.bio||''});}};useEffect(()=>{fetchProfile();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"profile-screen\",className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"\\u52A0\\u8F7D\\u4E2D...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"profile-screen\",className:\"p-6 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"\\u4E2A\\u4EBA\\u4E2D\\u5FC3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\u7BA1\\u7406\\u60A8\\u7684\\u4E2A\\u4EBA\\u4FE1\\u606F\\u548C\\u5B66\\u4E60\\u6863\\u6848\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"\\u4E2A\\u4EBA\\u4FE1\\u606F\"}),!isEditing&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\",children:\"\\u7F16\\u8F91\\u4FE1\\u606F\"})]}),isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:[\"\\u59D3\\u540D \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u90AE\\u7BB1\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u624B\\u673A\\u53F7\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u4E13\\u4E1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"major\",value:formData.major,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5E74\\u7EA7\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"grade\",value:formData.grade,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8BF7\\u9009\\u62E9\\u5E74\\u7EA7\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5927\\u4E00\",children:\"\\u5927\\u4E00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5927\\u4E8C\",children:\"\\u5927\\u4E8C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5927\\u4E09\",children:\"\\u5927\\u4E09\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5927\\u56DB\",children:\"\\u5927\\u56DB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u7814\\u4E00\",children:\"\\u7814\\u4E00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u7814\\u4E8C\",children:\"\\u7814\\u4E8C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u7814\\u4E09\",children:\"\\u7814\\u4E09\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u5176\\u4ED6\",children:\"\\u5176\\u4ED6\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u76EE\\u6807\\u9662\\u6821\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"targetSchool\",value:formData.targetSchool,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5B66\\u4E60\\u76EE\\u6807\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"studyGoal\",value:formData.studyGoal,onChange:handleInputChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"\\u4F8B\\u5982\\uFF1A\\u8003\\u53D6XXX\\u5927\\u5B66\\u8BA1\\u7B97\\u673A\\u79D1\\u5B66\\u4E13\\u4E1A\\u7814\\u7A76\\u751F\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u4E2A\\u4EBA\\u7B80\\u4ECB\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"bio\",value:formData.bio,onChange:handleInputChange,rows:4,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"\\u7B80\\u5355\\u4ECB\\u7ECD\\u4E00\\u4E0B\\u81EA\\u5DF1...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:updateProfile,className:\"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\",children:\"\\u4FDD\\u5B58\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\",children:\"\\u53D6\\u6D88\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.name||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u90AE\\u7BB1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.email||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u624B\\u673A\\u53F7\\u7801\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.phone||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u4E13\\u4E1A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.major||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u5E74\\u7EA7\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.grade||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u76EE\\u6807\\u9662\\u6821\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.targetSchool||'未填写'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u5B66\\u4E60\\u76EE\\u6807\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:formData.studyGoal||'未填写'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u4E2A\\u4EBA\\u7B80\\u4ECB\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900 whitespace-pre-wrap\",children:formData.bio||'未填写'})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u8D26\\u6237\\u4FE1\\u606F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u5B66\\u751FID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900 font-mono\",children:(user===null||user===void 0?void 0:user.id)||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u6CE8\\u518C\\u65F6\\u95F4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:user!==null&&user!==void 0&&user.createdAt?new Date(user.createdAt).toLocaleDateString('zh-CN'):'未知'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500\",children:\"\\u6700\\u540E\\u767B\\u5F55\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:user!==null&&user!==void 0&&user.lastLoginAt?new Date(user.lastLoginAt).toLocaleString('zh-CN'):'首次登录'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u5B89\\u5168\\u8BBE\\u7F6E\"}),!isChangingPassword?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsChangingPassword(true),className:\"w-full px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\",children:\"\\u4FEE\\u6539\\u5BC6\\u7801\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5F53\\u524D\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"oldPassword\",value:passwordData.oldPassword,onChange:handlePasswordChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u65B0\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"newPassword\",value:passwordData.newPassword,onChange:handlePasswordChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u786E\\u8BA4\\u65B0\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",value:passwordData.confirmPassword,onChange:handlePasswordChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:changePassword,className:\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\",children:\"\\u786E\\u8BA4\\u4FEE\\u6539\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsChangingPassword(false);setPasswordData({oldPassword:'',newPassword:'',confirmPassword:''});},className:\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\",children:\"\\u53D6\\u6D88\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"\\u5B66\\u4E60\\u7EDF\\u8BA1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u672C\\u6708\\u5B8C\\u6210\\u4EFB\\u52A1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"0 \\u9879\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u603B\\u5B66\\u4E60\\u65F6\\u957F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"0 \\u5C0F\\u65F6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u5E73\\u5747\\u5B8C\\u6210\\u7387\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"0%\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\u8FDE\\u7EED\\u6253\\u5361\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"0 \\u5929\"})]})]})]})]})]})]});};export default ProfileScreen;","map":{"version":3,"names":["React","useState","useEffect","profileAPI","authAPI","useApp","jsx","_jsx","jsxs","_jsxs","ProfileScreen","user","profile","setProfile","loading","setLoading","error","setError","isEditing","setIsEditing","isChangingPassword","setIsChangingPassword","formData","setFormData","name","email","phone","major","grade","targetSchool","studyGoal","bio","passwordData","setPasswordData","oldPassword","newPassword","confirmPassword","fetchProfile","response","getProfile","success","profileData","data","message","err","updateProfile","alert","changePassword","length","handleInputChange","e","value","target","prev","handlePasswordChange","cancelEdit","className","children","onClick","type","onChange","required","placeholder","rows","id","createdAt","Date","toLocaleDateString","lastLoginAt","toLocaleString"],"sources":["/Users/danieldong/Documents/GitHub/gougegaoshu/frontend/src/components/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { profileAPI, authAPI } from '../services/api';\nimport { useApp } from '../contexts/AppContext';\n\nconst ProfileScreen = () => {\n  const { user } = useApp();\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [isChangingPassword, setIsChangingPassword] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    major: '',\n    grade: '',\n    targetSchool: '',\n    studyGoal: '',\n    bio: ''\n  });\n  const [passwordData, setPasswordData] = useState({\n    oldPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n\n  // 获取个人档案\n  const fetchProfile = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await profileAPI.getProfile();\n      \n      if (response.success) {\n        const profileData = response.data || {};\n        setProfile(profileData);\n        setFormData({\n          name: profileData.name || user?.name || '',\n          email: profileData.email || '',\n          phone: profileData.phone || '',\n          major: profileData.major || '',\n          grade: profileData.grade || '',\n          targetSchool: profileData.targetSchool || '',\n          studyGoal: profileData.studyGoal || '',\n          bio: profileData.bio || ''\n        });\n      } else {\n        setError(response.message || '获取档案失败');\n      }\n    } catch (err) {\n      setError(err.message || '网络错误');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 更新个人档案\n  const updateProfile = async () => {\n    try {\n      setError(null);\n      \n      const response = await profileAPI.updateProfile(formData);\n      \n      if (response.success) {\n        setProfile({ ...profile, ...formData });\n        setIsEditing(false);\n        alert('档案更新成功');\n      } else {\n        setError(response.message || '更新档案失败');\n      }\n    } catch (err) {\n      setError(err.message || '更新档案失败');\n    }\n  };\n\n  // 修改密码\n  const changePassword = async () => {\n    try {\n      setError(null);\n      \n      if (passwordData.newPassword !== passwordData.confirmPassword) {\n        setError('新密码与确认密码不一致');\n        return;\n      }\n      \n      if (passwordData.newPassword.length < 6) {\n        setError('新密码长度不能少于6位');\n        return;\n      }\n      \n      const response = await authAPI.changePassword(\n        passwordData.oldPassword, \n        passwordData.newPassword\n      );\n      \n      if (response.success) {\n        setIsChangingPassword(false);\n        setPasswordData({ oldPassword: '', newPassword: '', confirmPassword: '' });\n        alert('密码修改成功');\n      } else {\n        setError(response.message || '密码修改失败');\n      }\n    } catch (err) {\n      setError(err.message || '密码修改失败');\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handlePasswordChange = (e) => {\n    const { name, value } = e.target;\n    setPasswordData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const cancelEdit = () => {\n    setIsEditing(false);\n    if (profile) {\n      setFormData({\n        name: profile.name || user?.name || '',\n        email: profile.email || '',\n        phone: profile.phone || '',\n        major: profile.major || '',\n        grade: profile.grade || '',\n        targetSchool: profile.targetSchool || '',\n        studyGoal: profile.studyGoal || '',\n        bio: profile.bio || ''\n      });\n    }\n  };\n\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n\n  if (loading) {\n    return (\n      <div data-testid=\"profile-screen\" className=\"p-6\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\n          <p className=\"mt-2 text-gray-600\">加载中...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div data-testid=\"profile-screen\" className=\"p-6 max-w-4xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">个人中心</h1>\n        <p className=\"text-gray-600\">管理您的个人信息和学习档案</p>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\">\n          {error}\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* 个人信息卡片 */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">个人信息</h2>\n              {!isEditing && (\n                <button\n                  onClick={() => setIsEditing(true)}\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n                >\n                  编辑信息\n                </button>\n              )}\n            </div>\n\n            {isEditing ? (\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      姓名 <span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"name\"\n                      value={formData.name}\n                      onChange={handleInputChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      邮箱\n                    </label>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      value={formData.email}\n                      onChange={handleInputChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      手机号码\n                    </label>\n                    <input\n                      type=\"tel\"\n                      name=\"phone\"\n                      value={formData.phone}\n                      onChange={handleInputChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      专业\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"major\"\n                      value={formData.major}\n                      onChange={handleInputChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      年级\n                    </label>\n                    <select\n                      name=\"grade\"\n                      value={formData.grade}\n                      onChange={handleInputChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"\">请选择年级</option>\n                      <option value=\"大一\">大一</option>\n                      <option value=\"大二\">大二</option>\n                      <option value=\"大三\">大三</option>\n                      <option value=\"大四\">大四</option>\n                      <option value=\"研一\">研一</option>\n                      <option value=\"研二\">研二</option>\n                      <option value=\"研三\">研三</option>\n                      <option value=\"其他\">其他</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      目标院校\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"targetSchool\"\n                      value={formData.targetSchool}\n                      onChange={handleInputChange}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    学习目标\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"studyGoal\"\n                    value={formData.studyGoal}\n                    onChange={handleInputChange}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"例如：考取XXX大学计算机科学专业研究生\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    个人简介\n                  </label>\n                  <textarea\n                    name=\"bio\"\n                    value={formData.bio}\n                    onChange={handleInputChange}\n                    rows={4}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"简单介绍一下自己...\"\n                  />\n                </div>\n\n                <div className=\"flex space-x-3 pt-4\">\n                  <button\n                    onClick={updateProfile}\n                    className=\"px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\n                  >\n                    保存\n                  </button>\n                  <button\n                    onClick={cancelEdit}\n                    className=\"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\"\n                  >\n                    取消\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">姓名</label>\n                    <p className=\"mt-1 text-gray-900\">{formData.name || '未填写'}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">邮箱</label>\n                    <p className=\"mt-1 text-gray-900\">{formData.email || '未填写'}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">手机号码</label>\n                    <p className=\"mt-1 text-gray-900\">{formData.phone || '未填写'}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">专业</label>\n                    <p className=\"mt-1 text-gray-900\">{formData.major || '未填写'}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">年级</label>\n                    <p className=\"mt-1 text-gray-900\">{formData.grade || '未填写'}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-500\">目标院校</label>\n                    <p className=\"mt-1 text-gray-900\">{formData.targetSchool || '未填写'}</p>\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-500\">学习目标</label>\n                  <p className=\"mt-1 text-gray-900\">{formData.studyGoal || '未填写'}</p>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-500\">个人简介</label>\n                  <p className=\"mt-1 text-gray-900 whitespace-pre-wrap\">{formData.bio || '未填写'}</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* 侧边栏 */}\n        <div className=\"space-y-6\">\n          {/* 账户信息 */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">账户信息</h3>\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-500\">学生ID</label>\n                <p className=\"mt-1 text-gray-900 font-mono\">{user?.id || 'N/A'}</p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-500\">注册时间</label>\n                <p className=\"mt-1 text-gray-900\">\n                  {user?.createdAt \n                    ? new Date(user.createdAt).toLocaleDateString('zh-CN')\n                    : '未知'\n                  }\n                </p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-500\">最后登录</label>\n                <p className=\"mt-1 text-gray-900\">\n                  {user?.lastLoginAt \n                    ? new Date(user.lastLoginAt).toLocaleString('zh-CN')\n                    : '首次登录'\n                  }\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* 密码修改 */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">安全设置</h3>\n            \n            {!isChangingPassword ? (\n              <button\n                onClick={() => setIsChangingPassword(true)}\n                className=\"w-full px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\"\n              >\n                修改密码\n              </button>\n            ) : (\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    当前密码\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"oldPassword\"\n                    value={passwordData.oldPassword}\n                    onChange={handlePasswordChange}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    新密码\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"newPassword\"\n                    value={passwordData.newPassword}\n                    onChange={handlePasswordChange}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    确认新密码\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"confirmPassword\"\n                    value={passwordData.confirmPassword}\n                    onChange={handlePasswordChange}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                <div className=\"flex flex-col space-y-2\">\n                  <button\n                    onClick={changePassword}\n                    className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\n                  >\n                    确认修改\n                  </button>\n                  <button\n                    onClick={() => {\n                      setIsChangingPassword(false);\n                      setPasswordData({ oldPassword: '', newPassword: '', confirmPassword: '' });\n                    }}\n                    className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600\"\n                  >\n                    取消\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* 学习统计 */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">学习统计</h3>\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">本月完成任务</span>\n                <span className=\"font-semibold\">0 项</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">总学习时长</span>\n                <span className=\"font-semibold\">0 小时</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">平均完成率</span>\n                <span className=\"font-semibold\">0%</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">连续打卡</span>\n                <span className=\"font-semibold\">0 天</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileScreen;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,CAAEC,OAAO,KAAQ,iBAAiB,CACrD,OAASC,MAAM,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,IAAK,CAAC,CAAGN,MAAM,CAAC,CAAC,CACzB,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACiB,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACmB,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACqB,QAAQ,CAAEC,WAAW,CAAC,CAAGtB,QAAQ,CAAC,CACvCuB,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,YAAY,CAAE,EAAE,CAChBC,SAAS,CAAE,EAAE,CACbC,GAAG,CAAE,EACP,CAAC,CAAC,CACF,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGhC,QAAQ,CAAC,CAC/CiC,WAAW,CAAE,EAAE,CACfC,WAAW,CAAE,EAAE,CACfC,eAAe,CAAE,EACnB,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFtB,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd,KAAM,CAAAqB,QAAQ,CAAG,KAAM,CAAAnC,UAAU,CAACoC,UAAU,CAAC,CAAC,CAE9C,GAAID,QAAQ,CAACE,OAAO,CAAE,CACpB,KAAM,CAAAC,WAAW,CAAGH,QAAQ,CAACI,IAAI,EAAI,CAAC,CAAC,CACvC7B,UAAU,CAAC4B,WAAW,CAAC,CACvBlB,WAAW,CAAC,CACVC,IAAI,CAAEiB,WAAW,CAACjB,IAAI,GAAIb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEa,IAAI,GAAI,EAAE,CAC1CC,KAAK,CAAEgB,WAAW,CAAChB,KAAK,EAAI,EAAE,CAC9BC,KAAK,CAAEe,WAAW,CAACf,KAAK,EAAI,EAAE,CAC9BC,KAAK,CAAEc,WAAW,CAACd,KAAK,EAAI,EAAE,CAC9BC,KAAK,CAAEa,WAAW,CAACb,KAAK,EAAI,EAAE,CAC9BC,YAAY,CAAEY,WAAW,CAACZ,YAAY,EAAI,EAAE,CAC5CC,SAAS,CAAEW,WAAW,CAACX,SAAS,EAAI,EAAE,CACtCC,GAAG,CAAEU,WAAW,CAACV,GAAG,EAAI,EAC1B,CAAC,CAAC,CACJ,CAAC,IAAM,CACLd,QAAQ,CAACqB,QAAQ,CAACK,OAAO,EAAI,QAAQ,CAAC,CACxC,CACF,CAAE,MAAOC,GAAG,CAAE,CACZ3B,QAAQ,CAAC2B,GAAG,CAACD,OAAO,EAAI,MAAM,CAAC,CACjC,CAAC,OAAS,CACR5B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA,KAAM,CAAA8B,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF5B,QAAQ,CAAC,IAAI,CAAC,CAEd,KAAM,CAAAqB,QAAQ,CAAG,KAAM,CAAAnC,UAAU,CAAC0C,aAAa,CAACvB,QAAQ,CAAC,CAEzD,GAAIgB,QAAQ,CAACE,OAAO,CAAE,CACpB3B,UAAU,CAAC,CAAE,GAAGD,OAAO,CAAE,GAAGU,QAAS,CAAC,CAAC,CACvCH,YAAY,CAAC,KAAK,CAAC,CACnB2B,KAAK,CAAC,QAAQ,CAAC,CACjB,CAAC,IAAM,CACL7B,QAAQ,CAACqB,QAAQ,CAACK,OAAO,EAAI,QAAQ,CAAC,CACxC,CACF,CAAE,MAAOC,GAAG,CAAE,CACZ3B,QAAQ,CAAC2B,GAAG,CAACD,OAAO,EAAI,QAAQ,CAAC,CACnC,CACF,CAAC,CAED;AACA,KAAM,CAAAI,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF9B,QAAQ,CAAC,IAAI,CAAC,CAEd,GAAIe,YAAY,CAACG,WAAW,GAAKH,YAAY,CAACI,eAAe,CAAE,CAC7DnB,QAAQ,CAAC,aAAa,CAAC,CACvB,OACF,CAEA,GAAIe,YAAY,CAACG,WAAW,CAACa,MAAM,CAAG,CAAC,CAAE,CACvC/B,QAAQ,CAAC,aAAa,CAAC,CACvB,OACF,CAEA,KAAM,CAAAqB,QAAQ,CAAG,KAAM,CAAAlC,OAAO,CAAC2C,cAAc,CAC3Cf,YAAY,CAACE,WAAW,CACxBF,YAAY,CAACG,WACf,CAAC,CAED,GAAIG,QAAQ,CAACE,OAAO,CAAE,CACpBnB,qBAAqB,CAAC,KAAK,CAAC,CAC5BY,eAAe,CAAC,CAAEC,WAAW,CAAE,EAAE,CAAEC,WAAW,CAAE,EAAE,CAAEC,eAAe,CAAE,EAAG,CAAC,CAAC,CAC1EU,KAAK,CAAC,QAAQ,CAAC,CACjB,CAAC,IAAM,CACL7B,QAAQ,CAACqB,QAAQ,CAACK,OAAO,EAAI,QAAQ,CAAC,CACxC,CACF,CAAE,MAAOC,GAAG,CAAE,CACZ3B,QAAQ,CAAC2B,GAAG,CAACD,OAAO,EAAI,QAAQ,CAAC,CACnC,CACF,CAAC,CAED,KAAM,CAAAM,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAE1B,IAAI,CAAE2B,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChC7B,WAAW,CAAC8B,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAAC7B,IAAI,EAAG2B,KAAM,CAAC,CAAC,CAAC,CACnD,CAAC,CAED,KAAM,CAAAG,oBAAoB,CAAIJ,CAAC,EAAK,CAClC,KAAM,CAAE1B,IAAI,CAAE2B,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChCnB,eAAe,CAACoB,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAAC7B,IAAI,EAAG2B,KAAM,CAAC,CAAC,CAAC,CACvD,CAAC,CAED,KAAM,CAAAI,UAAU,CAAGA,CAAA,GAAM,CACvBpC,YAAY,CAAC,KAAK,CAAC,CACnB,GAAIP,OAAO,CAAE,CACXW,WAAW,CAAC,CACVC,IAAI,CAAEZ,OAAO,CAACY,IAAI,GAAIb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEa,IAAI,GAAI,EAAE,CACtCC,KAAK,CAAEb,OAAO,CAACa,KAAK,EAAI,EAAE,CAC1BC,KAAK,CAAEd,OAAO,CAACc,KAAK,EAAI,EAAE,CAC1BC,KAAK,CAAEf,OAAO,CAACe,KAAK,EAAI,EAAE,CAC1BC,KAAK,CAAEhB,OAAO,CAACgB,KAAK,EAAI,EAAE,CAC1BC,YAAY,CAAEjB,OAAO,CAACiB,YAAY,EAAI,EAAE,CACxCC,SAAS,CAAElB,OAAO,CAACkB,SAAS,EAAI,EAAE,CAClCC,GAAG,CAAEnB,OAAO,CAACmB,GAAG,EAAI,EACtB,CAAC,CAAC,CACJ,CACF,CAAC,CAED7B,SAAS,CAAC,IAAM,CACdmC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIvB,OAAO,CAAE,CACX,mBACEP,IAAA,QAAK,cAAY,gBAAgB,CAACiD,SAAS,CAAC,KAAK,CAAAC,QAAA,cAC/ChD,KAAA,QAAK+C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BlD,IAAA,QAAKiD,SAAS,CAAC,sEAAsE,CAAM,CAAC,cAC5FjD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,uBAAM,CAAG,CAAC,EACzC,CAAC,CACH,CAAC,CAEV,CAEA,mBACEhD,KAAA,QAAK,cAAY,gBAAgB,CAAC+C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACjEhD,KAAA,QAAK+C,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBlD,IAAA,OAAIiD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,cAC/DlD,IAAA,MAAGiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gFAAa,CAAG,CAAC,EAC3C,CAAC,CAELzC,KAAK,eACJT,IAAA,QAAKiD,SAAS,CAAC,mEAAmE,CAAAC,QAAA,CAC/EzC,KAAK,CACH,CACN,cAEDP,KAAA,QAAK+C,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDlD,IAAA,QAAKiD,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BhD,KAAA,QAAK+C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDhD,KAAA,QAAK+C,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDlD,IAAA,OAAIiD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,CAC5D,CAACvC,SAAS,eACTX,IAAA,WACEmD,OAAO,CAAEA,CAAA,GAAMvC,YAAY,CAAC,IAAI,CAAE,CAClCqC,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,0BAED,CAAQ,CACT,EACE,CAAC,CAELvC,SAAS,cACRT,KAAA,QAAK+C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhD,KAAA,QAAK+C,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhD,KAAA,QAAAgD,QAAA,eACEhD,KAAA,UAAO+C,SAAS,CAAC,8CAA8C,CAAAC,QAAA,EAAC,eAC3D,cAAAlD,IAAA,SAAMiD,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACrC,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,MAAM,CACXnC,IAAI,CAAC,MAAM,CACX2B,KAAK,CAAE7B,QAAQ,CAACE,IAAK,CACrBoC,QAAQ,CAAEX,iBAAkB,CAC5BO,SAAS,CAAC,8FAA8F,CACxGK,QAAQ,MACT,CAAC,EACC,CAAC,cACNpD,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAEhE,CAAO,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,OAAO,CACZnC,IAAI,CAAC,OAAO,CACZ2B,KAAK,CAAE7B,QAAQ,CAACG,KAAM,CACtBmC,QAAQ,CAAEX,iBAAkB,CAC5BO,SAAS,CAAC,8FAA8F,CACzG,CAAC,EACC,CAAC,cACN/C,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,0BAEhE,CAAO,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,KAAK,CACVnC,IAAI,CAAC,OAAO,CACZ2B,KAAK,CAAE7B,QAAQ,CAACI,KAAM,CACtBkC,QAAQ,CAAEX,iBAAkB,CAC5BO,SAAS,CAAC,8FAA8F,CACzG,CAAC,EACC,CAAC,cACN/C,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAEhE,CAAO,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,MAAM,CACXnC,IAAI,CAAC,OAAO,CACZ2B,KAAK,CAAE7B,QAAQ,CAACK,KAAM,CACtBiC,QAAQ,CAAEX,iBAAkB,CAC5BO,SAAS,CAAC,8FAA8F,CACzG,CAAC,EACC,CAAC,cACN/C,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAEhE,CAAO,CAAC,cACRhD,KAAA,WACEe,IAAI,CAAC,OAAO,CACZ2B,KAAK,CAAE7B,QAAQ,CAACM,KAAM,CACtBgC,QAAQ,CAAEX,iBAAkB,CAC5BO,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAExGlD,IAAA,WAAQ4C,KAAK,CAAC,EAAE,CAAAM,QAAA,CAAC,gCAAK,CAAQ,CAAC,cAC/BlD,IAAA,WAAQ4C,KAAK,CAAC,cAAI,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,cAC9BlD,IAAA,WAAQ4C,KAAK,CAAC,cAAI,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,cAC9BlD,IAAA,WAAQ4C,KAAK,CAAC,cAAI,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,cAC9BlD,IAAA,WAAQ4C,KAAK,CAAC,cAAI,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,cAC9BlD,IAAA,WAAQ4C,KAAK,CAAC,cAAI,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,cAC9BlD,IAAA,WAAQ4C,KAAK,CAAC,cAAI,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,cAC9BlD,IAAA,WAAQ4C,KAAK,CAAC,cAAI,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,cAC9BlD,IAAA,WAAQ4C,KAAK,CAAC,cAAI,CAAAM,QAAA,CAAC,cAAE,CAAQ,CAAC,EACxB,CAAC,EACN,CAAC,cACNhD,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,0BAEhE,CAAO,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,MAAM,CACXnC,IAAI,CAAC,cAAc,CACnB2B,KAAK,CAAE7B,QAAQ,CAACO,YAAa,CAC7B+B,QAAQ,CAAEX,iBAAkB,CAC5BO,SAAS,CAAC,8FAA8F,CACzG,CAAC,EACC,CAAC,EACH,CAAC,cAEN/C,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,0BAEhE,CAAO,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,MAAM,CACXnC,IAAI,CAAC,WAAW,CAChB2B,KAAK,CAAE7B,QAAQ,CAACQ,SAAU,CAC1B8B,QAAQ,CAAEX,iBAAkB,CAC5BO,SAAS,CAAC,8FAA8F,CACxGM,WAAW,CAAC,2GAAsB,CACnC,CAAC,EACC,CAAC,cAENrD,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,0BAEhE,CAAO,CAAC,cACRlD,IAAA,aACEiB,IAAI,CAAC,KAAK,CACV2B,KAAK,CAAE7B,QAAQ,CAACS,GAAI,CACpB6B,QAAQ,CAAEX,iBAAkB,CAC5Bc,IAAI,CAAE,CAAE,CACRP,SAAS,CAAC,8FAA8F,CACxGM,WAAW,CAAC,qDAAa,CAC1B,CAAC,EACC,CAAC,cAENrD,KAAA,QAAK+C,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClClD,IAAA,WACEmD,OAAO,CAAEb,aAAc,CACvBW,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAC5E,cAED,CAAQ,CAAC,cACTlD,IAAA,WACEmD,OAAO,CAAEH,UAAW,CACpBC,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,cAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAENhD,KAAA,QAAK+C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhD,KAAA,QAAK+C,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDhD,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,cAAE,CAAO,CAAC,cACrElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEnC,QAAQ,CAACE,IAAI,EAAI,KAAK,CAAI,CAAC,EAC3D,CAAC,cACNf,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,cAAE,CAAO,CAAC,cACrElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEnC,QAAQ,CAACG,KAAK,EAAI,KAAK,CAAI,CAAC,EAC5D,CAAC,cACNhB,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,0BAAI,CAAO,CAAC,cACvElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEnC,QAAQ,CAACI,KAAK,EAAI,KAAK,CAAI,CAAC,EAC5D,CAAC,cACNjB,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,cAAE,CAAO,CAAC,cACrElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEnC,QAAQ,CAACK,KAAK,EAAI,KAAK,CAAI,CAAC,EAC5D,CAAC,cACNlB,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,cAAE,CAAO,CAAC,cACrElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEnC,QAAQ,CAACM,KAAK,EAAI,KAAK,CAAI,CAAC,EAC5D,CAAC,cACNnB,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,0BAAI,CAAO,CAAC,cACvElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEnC,QAAQ,CAACO,YAAY,EAAI,KAAK,CAAI,CAAC,EACnE,CAAC,EACH,CAAC,cAENpB,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,0BAAI,CAAO,CAAC,cACvElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEnC,QAAQ,CAACQ,SAAS,EAAI,KAAK,CAAI,CAAC,EAChE,CAAC,cAENrB,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,0BAAI,CAAO,CAAC,cACvElD,IAAA,MAAGiD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAEnC,QAAQ,CAACS,GAAG,EAAI,KAAK,CAAI,CAAC,EAC9E,CAAC,EACH,CACN,EACE,CAAC,CACH,CAAC,cAGNtB,KAAA,QAAK+C,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBhD,KAAA,QAAK+C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlD,IAAA,OAAIiD,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,cAClEhD,KAAA,QAAK+C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhD,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,gBAAI,CAAO,CAAC,cACvElD,IAAA,MAAGiD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAE,CAAA9C,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEqD,EAAE,GAAI,KAAK,CAAI,CAAC,EAChE,CAAC,cACNvD,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,0BAAI,CAAO,CAAC,cACvElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAC9B9C,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEsD,SAAS,CACZ,GAAI,CAAAC,IAAI,CAACvD,IAAI,CAACsD,SAAS,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAC,CACpD,IAAI,CAEP,CAAC,EACD,CAAC,cACN1D,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,0BAAI,CAAO,CAAC,cACvElD,IAAA,MAAGiD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAC9B9C,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEyD,WAAW,CACd,GAAI,CAAAF,IAAI,CAACvD,IAAI,CAACyD,WAAW,CAAC,CAACC,cAAc,CAAC,OAAO,CAAC,CAClD,MAAM,CAET,CAAC,EACD,CAAC,EACH,CAAC,EACH,CAAC,cAGN5D,KAAA,QAAK+C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlD,IAAA,OAAIiD,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,CAEjE,CAACrC,kBAAkB,cAClBb,IAAA,WACEmD,OAAO,CAAEA,CAAA,GAAMrC,qBAAqB,CAAC,IAAI,CAAE,CAC3CmC,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,0BAED,CAAQ,CAAC,cAEThD,KAAA,QAAK+C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhD,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,0BAEhE,CAAO,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,UAAU,CACfnC,IAAI,CAAC,aAAa,CAClB2B,KAAK,CAAEnB,YAAY,CAACE,WAAY,CAChC0B,QAAQ,CAAEN,oBAAqB,CAC/BE,SAAS,CAAC,8FAA8F,CACzG,CAAC,EACC,CAAC,cACN/C,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,oBAEhE,CAAO,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,UAAU,CACfnC,IAAI,CAAC,aAAa,CAClB2B,KAAK,CAAEnB,YAAY,CAACG,WAAY,CAChCyB,QAAQ,CAAEN,oBAAqB,CAC/BE,SAAS,CAAC,8FAA8F,CACzG,CAAC,EACC,CAAC,cACN/C,KAAA,QAAAgD,QAAA,eACElD,IAAA,UAAOiD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,gCAEhE,CAAO,CAAC,cACRlD,IAAA,UACEoD,IAAI,CAAC,UAAU,CACfnC,IAAI,CAAC,iBAAiB,CACtB2B,KAAK,CAAEnB,YAAY,CAACI,eAAgB,CACpCwB,QAAQ,CAAEN,oBAAqB,CAC/BE,SAAS,CAAC,8FAA8F,CACzG,CAAC,EACC,CAAC,cACN/C,KAAA,QAAK+C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtClD,IAAA,WACEmD,OAAO,CAAEX,cAAe,CACxBS,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAC5E,0BAED,CAAQ,CAAC,cACTlD,IAAA,WACEmD,OAAO,CAAEA,CAAA,GAAM,CACbrC,qBAAqB,CAAC,KAAK,CAAC,CAC5BY,eAAe,CAAC,CAAEC,WAAW,CAAE,EAAE,CAAEC,WAAW,CAAE,EAAE,CAAEC,eAAe,CAAE,EAAG,CAAC,CAAC,CAC5E,CAAE,CACFoB,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,cAED,CAAQ,CAAC,EACN,CAAC,EACH,CACN,EACE,CAAC,cAGNhD,KAAA,QAAK+C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDlD,IAAA,OAAIiD,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,cAClEhD,KAAA,QAAK+C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChChD,KAAA,QAAK+C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,sCAAM,CAAM,CAAC,cAC7ClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,UAAG,CAAM,CAAC,EACvC,CAAC,cACNhD,KAAA,QAAK+C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gCAAK,CAAM,CAAC,cAC5ClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gBAAI,CAAM,CAAC,EACxC,CAAC,cACNhD,KAAA,QAAK+C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gCAAK,CAAM,CAAC,cAC5ClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,EACtC,CAAC,cACNhD,KAAA,QAAK+C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,0BAAI,CAAM,CAAC,cAC3ClD,IAAA,SAAMiD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,UAAG,CAAM,CAAC,EACvC,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/C,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}