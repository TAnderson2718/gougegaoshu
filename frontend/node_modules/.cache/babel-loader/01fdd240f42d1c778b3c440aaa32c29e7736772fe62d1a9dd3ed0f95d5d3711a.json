{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Documents/GitHub/gougegaoshu/frontend/src/components/FutureDaysView.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { taskAPI } from '../services/api';\nimport { useApp } from '../contexts/AppContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FutureDaysView = ({\n  onClose\n}) => {\n  _s();\n  const {\n    systemDate\n  } = useApp();\n  const [futureTasks, setFutureTasks] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentDayIndex, setCurrentDayIndex] = useState(0);\n  const [futureDates, setFutureDates] = useState([]);\n\n  // 获取未来几天的任务\n  const fetchFutureTasks = async dates => {\n    try {\n      setLoading(true);\n      setError(null);\n      if (!dates || dates.length === 0) {\n        setFutureTasks({});\n        return;\n      }\n      const startDate = dates[0].dateStr;\n      const endDate = dates[dates.length - 1].dateStr;\n      const response = await taskAPI.getTasks(startDate, endDate);\n      if (response.success) {\n        setFutureTasks(response.data || {});\n      } else {\n        setError(response.message || '获取任务失败');\n      }\n    } catch (err) {\n      setError(err.message || '网络错误');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 更新任务状态（提前完成）\n  const updateTaskStatus = async (taskId, completed) => {\n    try {\n      const response = await taskAPI.updateTask(taskId, {\n        completed,\n        completedAt: completed ? new Date().toISOString() : null,\n        completed_date: completed ? (() => {\n          const year = systemDate.getFullYear();\n          const month = String(systemDate.getMonth() + 1).padStart(2, '0');\n          const day = String(systemDate.getDate()).padStart(2, '0');\n          return `${year}-${month}-${day}`;\n        })() : null,\n        is_future_task: completed // 标记为提前完成的未来任务\n      });\n      if (response.success) {\n        // 重新获取任务数据\n        await fetchFutureTasks(futureDates);\n      } else {\n        setError(response.message || '更新任务失败');\n      }\n    } catch (err) {\n      setError(err.message || '更新任务失败');\n    }\n  };\n  useEffect(() => {\n    const initializeFutureDates = async () => {\n      try {\n        // 生成未来工作日的日期（跳过休息日）\n        const generateFutureDatesLocal = async () => {\n          try {\n            const dates = [];\n            let checkDate = new Date(systemDate);\n            let daysAdded = 0;\n            const maxDays = 5; // 最多显示5个工作日\n            const maxCheck = 15; // 最多检查15天，避免无限循环\n            let checkCount = 0;\n            while (daysAdded < maxDays && checkCount < maxCheck) {\n              checkCount++;\n              checkDate.setDate(checkDate.getDate() + 1);\n              const dateStr = (() => {\n                const year = checkDate.getFullYear();\n                const month = String(checkDate.getMonth() + 1).padStart(2, '0');\n                const day = String(checkDate.getDate()).padStart(2, '0');\n                return `${year}-${month}-${day}`;\n              })();\n\n              // 检查这一天是否有任务（包括休息日任务）\n              const response = await taskAPI.getTasks(dateStr, dateStr);\n              if (response.success && response.data[dateStr]) {\n                const dayTasks = response.data[dateStr];\n                // 如果这一天只有休息任务，则跳过\n                const hasNonRestTasks = dayTasks.some(task => task.type !== '休息');\n                if (hasNonRestTasks) {\n                  dates.push({\n                    date: new Date(checkDate),\n                    dateStr: dateStr,\n                    displayName: `${checkDate.getMonth() + 1}月${checkDate.getDate()}日`,\n                    dayName: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'][checkDate.getDay()]\n                  });\n                  daysAdded++;\n                }\n              } else {\n                // 如果没有任务数据，假设是工作日\n                dates.push({\n                  date: new Date(checkDate),\n                  dateStr: dateStr,\n                  displayName: `${checkDate.getMonth() + 1}月${checkDate.getDate()}日`,\n                  dayName: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'][checkDate.getDay()]\n                });\n                daysAdded++;\n              }\n            }\n            return dates;\n          } catch (error) {\n            console.error('生成未来日期失败:', error);\n            // 如果出错，回退到简单的日期生成\n            const dates = [];\n            for (let i = 1; i <= 5; i++) {\n              const date = new Date(systemDate);\n              date.setDate(date.getDate() + i);\n              dates.push({\n                date: date,\n                dateStr: (() => {\n                  const year = date.getFullYear();\n                  const month = String(date.getMonth() + 1).padStart(2, '0');\n                  const day = String(date.getDate()).padStart(2, '0');\n                  return `${year}-${month}-${day}`;\n                })(),\n                displayName: `${date.getMonth() + 1}月${date.getDate()}日`,\n                dayName: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'][date.getDay()]\n              });\n            }\n            return dates;\n          }\n        };\n        const dates = await generateFutureDatesLocal();\n        setFutureDates(dates);\n        setCurrentDayIndex(0); // 重置到第一天\n        await fetchFutureTasks(dates);\n      } catch (error) {\n        console.error('初始化未来日期失败:', error);\n        setError('初始化失败');\n      }\n    };\n    initializeFutureDates();\n  }, [systemDate]);\n\n  // 滑动处理\n  const handleSwipeLeft = () => {\n    if (currentDayIndex < futureDates.length - 1) {\n      setCurrentDayIndex(currentDayIndex + 1);\n    }\n  };\n  const handleSwipeRight = () => {\n    if (currentDayIndex > 0) {\n      setCurrentDayIndex(currentDayIndex - 1);\n    }\n  };\n  const currentDay = futureDates[currentDayIndex];\n  const currentTasks = futureTasks[currentDay === null || currentDay === void 0 ? void 0 : currentDay.dateStr] || [];\n  if (loading || futureDates.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-white z-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"\\u52A0\\u8F7D\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-white z-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-500 text-white p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-white\",\n          children: \"\\u2190 \\u8FD4\\u56DE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-lg font-semibold\",\n          children: \"\\u672A\\u6765\\u4EFB\\u52A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 px-4 py-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSwipeRight,\n          disabled: currentDayIndex === 0,\n          className: `p-2 rounded ${currentDayIndex === 0 ? 'text-gray-400' : 'text-blue-600'}`,\n          children: \"\\u25C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-semibold text-gray-800\",\n            children: currentDay === null || currentDay === void 0 ? void 0 : currentDay.displayName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: [currentDay === null || currentDay === void 0 ? void 0 : currentDay.dayName, \" \\u2022 \\u8FD8\\u6709\", currentDayIndex + 1, \"\\u5929\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSwipeLeft,\n          disabled: currentDayIndex === futureDates.length - 1,\n          className: `p-2 rounded ${currentDayIndex === futureDates.length - 1 ? 'text-gray-400' : 'text-blue-600'}`,\n          children: \"\\u25B6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mt-3 space-x-2\",\n        children: futureDates.map((_, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-2 h-2 rounded-full ${index === currentDayIndex ? 'bg-blue-500' : 'bg-gray-300'}`\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-4 mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4\",\n      children: currentTasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400 text-6xl mb-4\",\n          children: \"\\uD83D\\uDDD3\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-600 mb-2\",\n          children: \"\\u6682\\u65E0\\u4EFB\\u52A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"\\u8FD9\\u4E00\\u5929\\u6CA1\\u6709\\u5B89\\u6392\\u4EFB\\u52A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-3 bg-blue-50 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-blue-800 text-sm\",\n            children: [\"\\uD83D\\uDCA1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u63D0\\u524D\\u5B8C\\u6210\\u8BF4\\u660E\\uFF1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 20\n            }, this), \" \\u60A8\\u53EF\\u4EE5\\u63D0\\u524D\\u5B8C\\u6210\\u672A\\u6765\\u5DE5\\u4F5C\\u65E5\\u7684\\u4EFB\\u52A1\\u3002 \\u5B8C\\u6210\\u7684\\u4EFB\\u52A1\\u5C06\\u8BB0\\u5F55\\u4E3A\\u4ECA\\u5929\\u5B8C\\u6210\\uFF0C\\u4F46\\u4E0D\\u4F1A\\u5F71\\u54CD\\u539F\\u5B9A\\u7684\\u4EFB\\u52A1\\u5B89\\u6392\\u3002\\u7CFB\\u7EDF\\u4F1A\\u81EA\\u52A8\\u8DF3\\u8FC7\\u4F11\\u606F\\u65E5\\u3002\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), currentTasks.map(task => /*#__PURE__*/_jsxDEV(FutureTaskCard, {\n          task: task,\n          onStatusChange: updateTaskStatus,\n          currentDate: systemDate,\n          targetDate: currentDay.date\n        }, task.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 p-4 border-t\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-sm text-gray-600\",\n        children: \"\\u5DE6\\u53F3\\u6ED1\\u52A8\\u67E5\\u770B\\u5176\\u4ED6\\u5DE5\\u4F5C\\u65E5\\u7684\\u4EFB\\u52A1 \\u2022 \\u53EF\\u63D0\\u524D\\u5B8C\\u6210\\u672A\\u6765\\u5DE5\\u4F5C\\u65E5\\u7684\\u4EFB\\u52A1 \\u2022 \\u81EA\\u52A8\\u8DF3\\u8FC7\\u4F11\\u606F\\u65E5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n\n// 未来任务卡片组件\n_s(FutureDaysView, \"wWvk2BiKufpLqJSIl0PNA2XKl7M=\", false, function () {\n  return [useApp];\n});\n_c = FutureDaysView;\nconst FutureTaskCard = ({\n  task,\n  onStatusChange,\n  currentDate,\n  targetDate\n}) => {\n  _s2();\n  const [isCompleting, setIsCompleting] = useState(false);\n  const handleStatusToggle = async () => {\n    if (isCompleting) return;\n    if (!task.completed) {\n      // 提前完成确认\n      const confirmed = window.confirm(`确定要提前完成这个任务吗？\\n\\n任务：\"${task.title}\"\\n计划日期：${targetDate.toLocaleDateString('zh-CN')}\\n完成日期：${currentDate.toLocaleDateString('zh-CN')}\\n\\n此操作不可撤销。`);\n      if (!confirmed) return;\n    }\n    setIsCompleting(true);\n    try {\n      await onStatusChange(task.id, !task.completed);\n    } finally {\n      setIsCompleting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `border rounded-lg p-4 ${task.completed ? 'bg-green-50 border-green-200' : 'bg-white border-gray-200'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleStatusToggle,\n        disabled: isCompleting,\n        className: `mt-1 w-5 h-5 rounded border-2 flex items-center justify-center ${task.completed ? 'bg-green-500 border-green-500 text-white' : isCompleting ? 'border-gray-300 cursor-wait' : 'border-gray-300 hover:border-blue-500'}`,\n        children: isCompleting ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin w-3 h-3 border border-gray-400 border-t-transparent rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this) : task.completed && /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-3 h-3\",\n          fill: \"currentColor\",\n          viewBox: \"0 0 20 20\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `font-semibold ${task.completed ? 'text-green-700 line-through' : 'text-gray-800'}`,\n          children: task.title || '任务标题'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 flex items-center space-x-4 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded text-xs ${task.type === '数学' ? 'bg-blue-100 text-blue-800' : task.type === '英语' ? 'bg-green-100 text-green-800' : task.type === '专业课' ? 'bg-purple-100 text-purple-800' : task.type === '休息' ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'}`,\n            children: task.type || '其他'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), task.completed && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 text-xs\",\n            children: \"\\u2728 \\u5DF2\\u63D0\\u524D\\u5B8C\\u6210\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 5\n  }, this);\n};\n_s2(FutureTaskCard, \"/ZsM/Ton5F4T8RVaAZ0zUWqLYkc=\");\n_c2 = FutureTaskCard;\nexport default FutureDaysView;\nvar _c, _c2;\n$RefreshReg$(_c, \"FutureDaysView\");\n$RefreshReg$(_c2, \"FutureTaskCard\");","map":{"version":3,"names":["React","useState","useEffect","taskAPI","useApp","jsxDEV","_jsxDEV","FutureDaysView","onClose","_s","systemDate","futureTasks","setFutureTasks","loading","setLoading","error","setError","currentDayIndex","setCurrentDayIndex","futureDates","setFutureDates","fetchFutureTasks","dates","length","startDate","dateStr","endDate","response","getTasks","success","data","message","err","updateTaskStatus","taskId","completed","updateTask","completedAt","Date","toISOString","completed_date","year","getFullYear","month","String","getMonth","padStart","day","getDate","is_future_task","initializeFutureDates","generateFutureDatesLocal","checkDate","daysAdded","maxDays","maxCheck","checkCount","setDate","dayTasks","hasNonRestTasks","some","task","type","push","date","displayName","dayName","getDay","console","i","handleSwipeLeft","handleSwipeRight","currentDay","currentTasks","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","map","_","index","FutureTaskCard","onStatusChange","currentDate","targetDate","id","_c","_s2","isCompleting","setIsCompleting","handleStatusToggle","confirmed","window","confirm","title","toLocaleDateString","fill","viewBox","fillRule","d","clipRule","_c2","$RefreshReg$"],"sources":["/Users/daniel/Documents/GitHub/gougegaoshu/frontend/src/components/FutureDaysView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { taskAPI } from '../services/api';\nimport { useApp } from '../contexts/AppContext';\n\nconst FutureDaysView = ({ onClose }) => {\n  const { systemDate } = useApp();\n  const [futureTasks, setFutureTasks] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentDayIndex, setCurrentDayIndex] = useState(0);\n  const [futureDates, setFutureDates] = useState([]);\n\n\n\n  // 获取未来几天的任务\n  const fetchFutureTasks = async (dates) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      if (!dates || dates.length === 0) {\n        setFutureTasks({});\n        return;\n      }\n\n      const startDate = dates[0].dateStr;\n      const endDate = dates[dates.length - 1].dateStr;\n\n      const response = await taskAPI.getTasks(startDate, endDate);\n\n      if (response.success) {\n        setFutureTasks(response.data || {});\n      } else {\n        setError(response.message || '获取任务失败');\n      }\n    } catch (err) {\n      setError(err.message || '网络错误');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 更新任务状态（提前完成）\n  const updateTaskStatus = async (taskId, completed) => {\n    try {\n      const response = await taskAPI.updateTask(taskId, { \n        completed,\n        completedAt: completed ? new Date().toISOString() : null,\n        completed_date: completed ? (() => {\n          const year = systemDate.getFullYear();\n          const month = String(systemDate.getMonth() + 1).padStart(2, '0');\n          const day = String(systemDate.getDate()).padStart(2, '0');\n          return `${year}-${month}-${day}`;\n        })() : null,\n        is_future_task: completed // 标记为提前完成的未来任务\n      });\n      \n      if (response.success) {\n        // 重新获取任务数据\n        await fetchFutureTasks(futureDates);\n      } else {\n        setError(response.message || '更新任务失败');\n      }\n    } catch (err) {\n      setError(err.message || '更新任务失败');\n    }\n  };\n\n  useEffect(() => {\n    const initializeFutureDates = async () => {\n      try {\n        // 生成未来工作日的日期（跳过休息日）\n        const generateFutureDatesLocal = async () => {\n          try {\n            const dates = [];\n            let checkDate = new Date(systemDate);\n            let daysAdded = 0;\n            const maxDays = 5; // 最多显示5个工作日\n            const maxCheck = 15; // 最多检查15天，避免无限循环\n            let checkCount = 0;\n\n            while (daysAdded < maxDays && checkCount < maxCheck) {\n              checkCount++;\n              checkDate.setDate(checkDate.getDate() + 1);\n\n              const dateStr = (() => {\n                const year = checkDate.getFullYear();\n                const month = String(checkDate.getMonth() + 1).padStart(2, '0');\n                const day = String(checkDate.getDate()).padStart(2, '0');\n                return `${year}-${month}-${day}`;\n              })();\n\n              // 检查这一天是否有任务（包括休息日任务）\n              const response = await taskAPI.getTasks(dateStr, dateStr);\n              if (response.success && response.data[dateStr]) {\n                const dayTasks = response.data[dateStr];\n                // 如果这一天只有休息任务，则跳过\n                const hasNonRestTasks = dayTasks.some(task => task.type !== '休息');\n\n                if (hasNonRestTasks) {\n                  dates.push({\n                    date: new Date(checkDate),\n                    dateStr: dateStr,\n                    displayName: `${checkDate.getMonth() + 1}月${checkDate.getDate()}日`,\n                    dayName: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'][checkDate.getDay()]\n                  });\n                  daysAdded++;\n                }\n              } else {\n                // 如果没有任务数据，假设是工作日\n                dates.push({\n                  date: new Date(checkDate),\n                  dateStr: dateStr,\n                  displayName: `${checkDate.getMonth() + 1}月${checkDate.getDate()}日`,\n                  dayName: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'][checkDate.getDay()]\n                });\n                daysAdded++;\n              }\n            }\n\n            return dates;\n          } catch (error) {\n            console.error('生成未来日期失败:', error);\n            // 如果出错，回退到简单的日期生成\n            const dates = [];\n            for (let i = 1; i <= 5; i++) {\n              const date = new Date(systemDate);\n              date.setDate(date.getDate() + i);\n              dates.push({\n                date: date,\n                dateStr: (() => {\n                  const year = date.getFullYear();\n                  const month = String(date.getMonth() + 1).padStart(2, '0');\n                  const day = String(date.getDate()).padStart(2, '0');\n                  return `${year}-${month}-${day}`;\n                })(),\n                displayName: `${date.getMonth() + 1}月${date.getDate()}日`,\n                dayName: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'][date.getDay()]\n              });\n            }\n            return dates;\n          }\n        };\n\n        const dates = await generateFutureDatesLocal();\n        setFutureDates(dates);\n        setCurrentDayIndex(0); // 重置到第一天\n        await fetchFutureTasks(dates);\n      } catch (error) {\n        console.error('初始化未来日期失败:', error);\n        setError('初始化失败');\n      }\n    };\n\n    initializeFutureDates();\n  }, [systemDate]);\n\n  // 滑动处理\n  const handleSwipeLeft = () => {\n    if (currentDayIndex < futureDates.length - 1) {\n      setCurrentDayIndex(currentDayIndex + 1);\n    }\n  };\n\n  const handleSwipeRight = () => {\n    if (currentDayIndex > 0) {\n      setCurrentDayIndex(currentDayIndex - 1);\n    }\n  };\n\n  const currentDay = futureDates[currentDayIndex];\n  const currentTasks = futureTasks[currentDay?.dateStr] || [];\n\n  if (loading || futureDates.length === 0) {\n    return (\n      <div className=\"fixed inset-0 bg-white z-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\n          <p className=\"mt-2 text-gray-600\">加载中...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-white z-50\">\n      {/* 头部 */}\n      <div className=\"bg-blue-500 text-white p-4\">\n        <div className=\"flex items-center justify-between\">\n          <button onClick={onClose} className=\"text-white\">\n            ← 返回\n          </button>\n          <h1 className=\"text-lg font-semibold\">未来任务</h1>\n          <div className=\"w-6\"></div>\n        </div>\n      </div>\n\n      {/* 日期导航 */}\n      <div className=\"bg-gray-50 px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          <button \n            onClick={handleSwipeRight}\n            disabled={currentDayIndex === 0}\n            className={`p-2 rounded ${currentDayIndex === 0 ? 'text-gray-400' : 'text-blue-600'}`}\n          >\n            ◀\n          </button>\n          \n          <div className=\"text-center\">\n            <div className=\"text-lg font-semibold text-gray-800\">\n              {currentDay?.displayName}\n            </div>\n            <div className=\"text-sm text-gray-600\">\n              {currentDay?.dayName} • 还有{currentDayIndex + 1}天\n            </div>\n          </div>\n          \n          <button \n            onClick={handleSwipeLeft}\n            disabled={currentDayIndex === futureDates.length - 1}\n            className={`p-2 rounded ${currentDayIndex === futureDates.length - 1 ? 'text-gray-400' : 'text-blue-600'}`}\n          >\n            ▶\n          </button>\n        </div>\n\n        {/* 日期指示器 */}\n        <div className=\"flex justify-center mt-3 space-x-2\">\n          {futureDates.map((_, index) => (\n            <div\n              key={index}\n              className={`w-2 h-2 rounded-full ${\n                index === currentDayIndex ? 'bg-blue-500' : 'bg-gray-300'\n              }`}\n            />\n          ))}\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mx-4 mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\">\n          {error}\n        </div>\n      )}\n\n      {/* 任务列表 */}\n      <div className=\"flex-1 overflow-y-auto p-4\">\n        {currentTasks.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-400 text-6xl mb-4\">🗓️</div>\n            <h3 className=\"text-lg font-semibold text-gray-600 mb-2\">暂无任务</h3>\n            <p className=\"text-gray-500\">这一天没有安排任务</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            <div className=\"mb-4 p-3 bg-blue-50 rounded-lg\">\n              <p className=\"text-blue-800 text-sm\">\n                💡 <strong>提前完成说明：</strong> 您可以提前完成未来工作日的任务。\n                完成的任务将记录为今天完成，但不会影响原定的任务安排。系统会自动跳过休息日。\n              </p>\n            </div>\n            \n            {currentTasks.map((task) => (\n              <FutureTaskCard\n                key={task.id}\n                task={task}\n                onStatusChange={updateTaskStatus}\n                currentDate={systemDate}\n                targetDate={currentDay.date}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* 底部提示 */}\n      <div className=\"bg-gray-50 p-4 border-t\">\n        <p className=\"text-center text-sm text-gray-600\">\n          左右滑动查看其他工作日的任务 • 可提前完成未来工作日的任务 • 自动跳过休息日\n        </p>\n      </div>\n    </div>\n  );\n};\n\n// 未来任务卡片组件\nconst FutureTaskCard = ({ task, onStatusChange, currentDate, targetDate }) => {\n  const [isCompleting, setIsCompleting] = useState(false);\n\n  const handleStatusToggle = async () => {\n    if (isCompleting) return;\n    \n    if (!task.completed) {\n      // 提前完成确认\n      const confirmed = window.confirm(\n        `确定要提前完成这个任务吗？\\n\\n任务：\"${task.title}\"\\n计划日期：${targetDate.toLocaleDateString('zh-CN')}\\n完成日期：${currentDate.toLocaleDateString('zh-CN')}\\n\\n此操作不可撤销。`\n      );\n      \n      if (!confirmed) return;\n    }\n\n    setIsCompleting(true);\n    try {\n      await onStatusChange(task.id, !task.completed);\n    } finally {\n      setIsCompleting(false);\n    }\n  };\n\n  return (\n    <div className={`border rounded-lg p-4 ${\n      task.completed \n        ? 'bg-green-50 border-green-200' \n        : 'bg-white border-gray-200'\n    }`}>\n      <div className=\"flex items-start space-x-3\">\n        <button\n          onClick={handleStatusToggle}\n          disabled={isCompleting}\n          className={`mt-1 w-5 h-5 rounded border-2 flex items-center justify-center ${\n            task.completed\n              ? 'bg-green-500 border-green-500 text-white'\n              : isCompleting\n                ? 'border-gray-300 cursor-wait'\n                : 'border-gray-300 hover:border-blue-500'\n          }`}\n        >\n          {isCompleting ? (\n            <div className=\"animate-spin w-3 h-3 border border-gray-400 border-t-transparent rounded-full\"></div>\n          ) : (\n            task.completed && (\n              <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n              </svg>\n            )\n          )}\n        </button>\n        \n        <div className=\"flex-1\">\n          <h3 className={`font-semibold ${\n            task.completed ? 'text-green-700 line-through' : 'text-gray-800'\n          }`}>\n            {task.title || '任务标题'}\n          </h3>\n          \n          <div className=\"mt-2 flex items-center space-x-4 text-sm\">\n            <span className={`px-2 py-1 rounded text-xs ${\n              task.type === '数学' \n                ? 'bg-blue-100 text-blue-800'\n                : task.type === '英语'\n                  ? 'bg-green-100 text-green-800'\n                  : task.type === '专业课'\n                    ? 'bg-purple-100 text-purple-800'\n                    : task.type === '休息'\n                      ? 'bg-yellow-100 text-yellow-800'\n                      : 'bg-gray-100 text-gray-800'\n            }`}>\n              {task.type || '其他'}\n            </span>\n            \n            {task.completed && (\n              <span className=\"text-green-600 text-xs\">\n                ✨ 已提前完成\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FutureDaysView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}