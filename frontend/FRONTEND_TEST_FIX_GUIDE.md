# å‰ç«¯æµ‹è¯•ä¿®å¤æŒ‡å—

## ğŸš¨ å½“å‰æµ‹è¯•çŠ¶æ€
- **æ€»æµ‹è¯•**: 126ä¸ª
- **é€šè¿‡**: 64ä¸ª âœ…
- **å¤±è´¥**: 62ä¸ª âŒ
- **æˆåŠŸç‡**: 50.8%

## ğŸ”§ ä¸»è¦ä¿®å¤ä»»åŠ¡

### 1. React Routerä¸Šä¸‹æ–‡é—®é¢˜ (é«˜ä¼˜å…ˆçº§)

**é—®é¢˜**: `useNavigate() may be used only in the context of a <Router> component`

**å½±å“ç»„ä»¶**: Login.test.js, StudentApp.test.jsç­‰

**ä¿®å¤æ–¹æ¡ˆ**:
```javascript
// åœ¨æµ‹è¯•æ–‡ä»¶ä¸­æ·»åŠ RouteråŒ…è£…
import { MemoryRouter } from 'react-router-dom';

// ä¿®å¤å‰
render(<Login />);

// ä¿®å¤å
render(
  <MemoryRouter>
    <Login />
  </MemoryRouter>
);
```

### 2. APIæ¥å£å‚æ•°ä¸åŒ¹é… (é«˜ä¼˜å…ˆçº§)

**é—®é¢˜**: å‰åç«¯æ¥å£å‚æ•°åä¸ä¸€è‡´

**å…·ä½“é”™è¯¯**:
```
æœŸæœ›: { studentId: 'ST001', password: 'xxx' }
å®é™…: { userId: 'ST001', password: 'xxx' }
```

**ä¿®å¤æ–¹æ¡ˆ**:
- ç»Ÿä¸€å‰åç«¯æ¥å£å‚æ•°å‘½å
- æˆ–ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹åŒ¹é…å®é™…API

### 3. Jesté…ç½®é—®é¢˜ (ä¸­ä¼˜å…ˆçº§)

**é—®é¢˜**: `Unexpected reserved word 'await'`

**ä¿®å¤æ–¹æ¡ˆ**:
```javascript
// åœ¨jest.config.jsä¸­æ·»åŠ 
module.exports = {
  transform: {
    '^.+\\.(js|jsx)$': ['babel-jest', {
      presets: [
        ['@babel/preset-env', { targets: { node: 'current' } }],
        '@babel/preset-react'
      ]
    }]
  }
};
```

### 4. ç¼ºå¤±ç»„ä»¶é—®é¢˜ (ä¸­ä¼˜å…ˆçº§)

**é—®é¢˜**: `Cannot find module './ChangePassword'`

**ä¿®å¤æ–¹æ¡ˆ**:
- åˆ›å»ºç¼ºå¤±çš„ç»„ä»¶æ–‡ä»¶
- æˆ–ä¿®æ”¹æµ‹è¯•å¯¼å…¥è·¯å¾„

### 5. APIæœåŠ¡æµ‹è¯•ä¿®å¤ (ä¸­ä¼˜å…ˆçº§)

**éœ€è¦ä¿®å¤çš„APIæ–¹æ³•**:
- `forceChangePassword` - æ–¹æ³•ä¸å­˜åœ¨
- `changePassword` - å‚æ•°æ ¼å¼ä¸åŒ¹é…
- é”™è¯¯æ‹¦æˆªå™¨é€»è¾‘ä¸åŒ¹é…

## ğŸ“ å…·ä½“ä¿®å¤æ­¥éª¤

### æ­¥éª¤1: ä¿®å¤Routerä¸Šä¸‹æ–‡
```bash
# 1. åˆ›å»ºæµ‹è¯•å·¥å…·å‡½æ•°
mkdir src/test-utils
touch src/test-utils/test-wrapper.js
```

### æ­¥éª¤2: ç»Ÿä¸€APIæ¥å£
```bash
# 1. æ£€æŸ¥APIæœåŠ¡æ–‡ä»¶
# 2. å¯¹æ¯”åç«¯è·¯ç”±å‚æ•°
# 3. ç»Ÿä¸€å‚æ•°å‘½å
```

### æ­¥éª¤3: ä¿®å¤Jesté…ç½®
```bash
# 1. æ›´æ–°babelé…ç½®
# 2. æ·»åŠ async/awaitæ”¯æŒ
# 3. é…ç½®æ¨¡å—è½¬æ¢è§„åˆ™
```

### æ­¥éª¤4: è¡¥å……ç¼ºå¤±ç»„ä»¶
```bash
# 1. åˆ›å»ºChangePasswordç»„ä»¶
# 2. å®ç°åŸºæœ¬åŠŸèƒ½
# 3. æ·»åŠ å¿…è¦çš„props
```

## ğŸ¯ é¢„æœŸä¿®å¤æ•ˆæœ

ä¿®å¤å®Œæˆåé¢„æœŸè¾¾åˆ°ï¼š
- **æˆåŠŸç‡**: 85%ä»¥ä¸Š
- **Routeré—®é¢˜**: å®Œå…¨è§£å†³
- **APIé—®é¢˜**: å®Œå…¨è§£å†³
- **é…ç½®é—®é¢˜**: å®Œå…¨è§£å†³

## âš¡ å¿«é€Ÿä¿®å¤å‘½ä»¤

```bash
# 1. å®‰è£…ç¼ºå¤±ä¾èµ–
npm install --save-dev @testing-library/react-router

# 2. æ›´æ–°æµ‹è¯•é…ç½®
npm run test:update-config

# 3. è¿è¡Œä¿®å¤åçš„æµ‹è¯•
npm test -- --watchAll=false
```

## ğŸ“Š ä¿®å¤ä¼˜å…ˆçº§

1. **ç«‹å³ä¿®å¤** (å½±å“>20ä¸ªæµ‹è¯•):
   - Routerä¸Šä¸‹æ–‡é—®é¢˜
   - APIå‚æ•°ä¸åŒ¹é…

2. **æœ¬å‘¨ä¿®å¤** (å½±å“10-20ä¸ªæµ‹è¯•):
   - Jesté…ç½®é—®é¢˜
   - ç¼ºå¤±ç»„ä»¶é—®é¢˜

3. **ä¸‹å‘¨ä¿®å¤** (å½±å“<10ä¸ªæµ‹è¯•):
   - ç»„ä»¶çŠ¶æ€ç®¡ç†
   - è¡¨å•éªŒè¯é€»è¾‘

## ğŸ”„ æŒç»­æ”¹è¿›

ä¿®å¤å®Œæˆåéœ€è¦ï¼š
1. å»ºç«‹æµ‹è¯•æœ€ä½³å®è·µæ–‡æ¡£
2. æ·»åŠ pre-commitæµ‹è¯•é’©å­
3. è®¾ç½®CI/CDæµ‹è¯•æµæ°´çº¿
4. å®šæœŸæµ‹è¯•è¦†ç›–ç‡æ£€æŸ¥
